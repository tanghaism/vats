var di=Object.defineProperty,hi=Object.defineProperties;var pi=Object.getOwnPropertyDescriptors;var da=Object.getOwnPropertySymbols;var fi=Object.prototype.hasOwnProperty,mi=Object.prototype.propertyIsEnumerable;var ha=(j,e,q)=>e in j?di(j,e,{enumerable:!0,configurable:!0,writable:!0,value:q}):j[e]=q,A=(j,e)=>{for(var q in e||(e={}))fi.call(e,q)&&ha(j,q,e[q]);if(da)for(var q of da(e))mi.call(e,q)&&ha(j,q,e[q]);return j},X=(j,e)=>hi(j,pi(e));(function(j,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue"),require("vue-router"),require("ant-design-vue")):typeof define=="function"&&define.amd?define(["exports","vue","vue-router","ant-design-vue"],e):e((j=typeof globalThis!="undefined"?globalThis:j||self).vatsDefault={},j.Vue,j.VueRouter,j.antd)})(this,function(j,e,q,pe){"use strict";var Ft={install:t=>{t.config.globalProperties.$checkPermissions=(a,n="in")=>{var o,r,i,s;let u=!1;const d=((o=t.config.globalProperties)===null||o===void 0||(r=o.$pinia)===null||r===void 0||(i=r.state.value)===null||i===void 0||(s=i.permission)===null||s===void 0?void 0:s.permissionMap)||{};return Array.isArray(a)?n==="in"?u=a.some(l=>!!d[l]):n==="all"&&(u=a.every(l=>!!d[l])):typeof a=="string"&&(u=!!d[a]),u},t.directive("permission",{mounted(a,n){const{value:o,arg:r="in"}=n;var i;t.config.globalProperties.$checkPermissions(o,r)||a==null||(i=a.parentNode)===null||i===void 0||i.removeChild(a)}})}},pa=(t,a)=>{const n=t.__vccOpts||t;for(const[o,r]of a)n[o]=r;return n};const fa=e.defineComponent({name:"VatsLoading"}),ma={class:"vats-loading"},ga=[(t=>(e.pushScopeId("data-v-104531c2"),t=t(),e.popScopeId(),t))(()=>e.createElementVNode("div",{class:"loader"},[e.createElementVNode("span"),e.createElementVNode("span")],-1))];var Ie=pa(fa,[["render",function(t,a,n,o,r,i){return e.openBlock(),e.createElementBlock("div",ma,ga)}],["__scopeId","data-v-104531c2"]]),Ut={install:t=>{const a=o=>{o&&setTimeout(()=>{var r,i;o.domInserted=!1,o==null||(r=o.loadingRoot)===null||r===void 0||(i=r.parentElement)===null||i===void 0||i.removeChild(o==null?void 0:o.loadingRoot)},300)},n=async(o,r)=>{let i=!0;if(typeof r.value=="object"){const{show:s}=r.value;i=s}else i=r.value;i?(await e.nextTick(()=>{o.originalPosition=getComputedStyle(o,null).position,(s=>{var u,d;getComputedStyle(s,null).display!=="none"&&getComputedStyle(s,null).visibility!=="hidden"&&(s.originalPosition!=="absolute"&&s.originalPosition!=="fixed"&&(s.style.position="relative"),s.comp.cShow=!0,s.comp.root=(u=t._instance)===null||u===void 0||(d=u.root)===null||d===void 0?void 0:d.proxy,s==null||s.appendChild(s==null?void 0:s.loadingRoot))})(o)}),o.domInserted=!0):(o.comp.cShow=!1,o.domInserted&&a(o))};t.directive("loading",{async beforeMount(o,r){const i=e.createApp(Ie);o.loading=o,o.loadingRoot=document.createElement("div"),o.comp=i.mount(o.loadingRoot),await n(o,r)},async updated(o,r){r.oldValue!==r.value&&await n(o,r)},async beforeUnmount(o){o.domInserted&&(o.loading=o,a(o)),o.comp=null}})}};const va=["src"],ba={key:1,class:"vats-system-info vats-flex vats-flex-1 vats-flex-column vats-ellipsis"},ya={class:"vats-menu vats-flex-1"},wa={class:"vats-flex"},xa=e.defineComponent({name:"VatsSider"}),$t=e.defineComponent(X(A({},xa),{props:{system:null,menu:{default:()=>[]},collapsed:{type:Boolean}},setup(t){const a=t,{system:n,collapsed:o,menu:r}=e.toRefs(a),i=q.useRoute(),s=q.useRouter(),u=e.reactive({openMenus:[],selectedMenus:[]}),d=()=>{const h=[...e.toRaw(i.meta.breadcrumb||[])];o.value||(u.openMenus=h.map(c=>c.name)),u.selectedMenus=[i.meta.selected||i.name]};e.onMounted(()=>{d()}),e.watch(()=>i.name,d),e.watch(()=>o.value,h=>{if(h)u.openMenus=[];else{const c=[...e.toRaw(i.meta.breadcrumb||[])];u.openMenus=c.map(p=>p.name)}});const l=h=>{i.name!==h&&s.push({name:h})};return(h,c)=>{const p=e.resolveComponent("a-typography-text"),f=e.resolveComponent("a-menu-item"),g=e.resolveComponent("a-sub-menu"),v=e.resolveComponent("a-menu");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.unref(n)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([[e.unref(o)?"vats-system-close":"vats-system-open"],"vats-system vats-flex"])},[e.unref(n).logo?(e.openBlock(),e.createElementBlock("img",{key:0,src:e.unref(n).logo,alt:"",width:"32",height:"32"},null,8,va)):e.createCommentVNode("",!0),e.unref(n).title||e.unref(n).subTitle?e.withDirectives((e.openBlock(),e.createElementBlock("div",ba,[e.unref(n).title?(e.openBlock(),e.createBlock(p,{key:0,strong:"",class:e.normalizeClass([[e.unref(n).subTitle?"":"vats-system-title-large"],"vats-system-title"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(n).title),1)]),_:1},8,["class"])):e.createCommentVNode("",!0),e.unref(n).subTitle?(e.openBlock(),e.createBlock(p,{key:1,class:"vats-system-sub-title"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(n).subTitle),1)]),_:1})):e.createCommentVNode("",!0)],512)),[[e.vShow,!e.unref(o)]]):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",ya,[e.createVNode(v,{class:"vats-menu-wrap",mode:"inline",theme:"dark",inlineCollapsed:!1,openKeys:e.unref(u).openMenus,"onUpdate:openKeys":c[0]||(c[0]=b=>e.unref(u).openMenus=b),selectedKeys:e.unref(u).selectedMenus,"onUpdate:selectedKeys":c[1]||(c[1]=b=>e.unref(u).selectedMenus=b)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r),b=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:b.name},[b.children&&b.children.length>0&&!b.meta.hideMenu?(e.openBlock(),e.createBlock(g,{key:b.name},{title:e.withCtx(()=>[e.createElementVNode("span",wa,[b.meta.icon?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass([b.meta.icon,"anticon"])},null,2)):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(b.meta.title),1)])]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.children,y=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:y.name},[y.meta.hideMenu?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(f,{key:y.name,class:"vats-flex",onClick:B=>l(y.name)},{default:e.withCtx(()=>[y.meta.icon?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass([y.meta.icon,"anticon"])},null,2)):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(y.meta.title),1)]),_:2},1032,["onClick"]))],64))),128))]),_:2},1024)):b.children||b.meta.hideMenu?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(f,{key:b.name,class:"vats-flex",onClick:y=>l(b.name)},{default:e.withCtx(()=>[b.meta.icon?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass([b.meta.icon,"anticon"])},null,2)):e.createCommentVNode("",!0),e.createElementVNode("span",null,e.toDisplayString(b.meta.title),1)]),_:2},1032,["onClick"]))],64))),128))]),_:1},8,["openKeys","selectedKeys"])])],64)}}}));function ne(t,a){(function(o){return typeof o=="string"&&o.indexOf(".")!==-1&&parseFloat(o)===1})(t)&&(t="100%");var n=function(o){return typeof o=="string"&&o.indexOf("%")!==-1}(t);return t=a===360?t:Math.min(a,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*a),10)/100),Math.abs(t-a)<1e-6?1:t=a===360?(t<0?t%a+a:t%a)/parseFloat(String(a)):t%a/parseFloat(String(a))}function Fe(t){return t<=1?"".concat(100*Number(t),"%"):t}function Ze(t){return t.length===1?"0"+t:String(t)}function Ge(t,a,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(a-t):n<.5?a:n<2/3?t+(a-t)*(2/3-n)*6:t}function Yt(t){return te(t)/255}function te(t){return parseInt(t,16)}var Xt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function De(t){var a,n,o,r={r:0,g:0,b:0},i=1,s=null,u=null,d=null,l=!1,h=!1;return typeof t=="string"&&(t=function(c){if((c=c.trim().toLowerCase()).length===0)return!1;var p=!1;if(Xt[c])c=Xt[c],p=!0;else if(c==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var f=re.rgb.exec(c);return f?{r:f[1],g:f[2],b:f[3]}:(f=re.rgba.exec(c))?{r:f[1],g:f[2],b:f[3],a:f[4]}:(f=re.hsl.exec(c))?{h:f[1],s:f[2],l:f[3]}:(f=re.hsla.exec(c))?{h:f[1],s:f[2],l:f[3],a:f[4]}:(f=re.hsv.exec(c))?{h:f[1],s:f[2],v:f[3]}:(f=re.hsva.exec(c))?{h:f[1],s:f[2],v:f[3],a:f[4]}:(f=re.hex8.exec(c))?{r:te(f[1]),g:te(f[2]),b:te(f[3]),a:Yt(f[4]),format:p?"name":"hex8"}:(f=re.hex6.exec(c))?{r:te(f[1]),g:te(f[2]),b:te(f[3]),format:p?"name":"hex"}:(f=re.hex4.exec(c))?{r:te(f[1]+f[1]),g:te(f[2]+f[2]),b:te(f[3]+f[3]),a:Yt(f[4]+f[4]),format:p?"name":"hex8"}:(f=re.hex3.exec(c))?{r:te(f[1]+f[1]),g:te(f[2]+f[2]),b:te(f[3]+f[3]),format:p?"name":"hex"}:!1}(t)),typeof t=="object"&&(de(t.r)&&de(t.g)&&de(t.b)?(a=t.r,n=t.g,o=t.b,r={r:255*ne(a,255),g:255*ne(n,255),b:255*ne(o,255)},l=!0,h=String(t.r).substr(-1)==="%"?"prgb":"rgb"):de(t.h)&&de(t.s)&&de(t.v)?(s=Fe(t.s),u=Fe(t.v),r=function(c,p,f){c=6*ne(c,360),p=ne(p,100),f=ne(f,100);var g=Math.floor(c),v=c-g,b=f*(1-p),y=f*(1-v*p),B=f*(1-(1-v)*p),k=g%6;return{r:255*[f,y,b,b,B,f][k],g:255*[B,f,f,y,b,b][k],b:255*[b,b,B,f,f,y][k]}}(t.h,s,u),l=!0,h="hsv"):de(t.h)&&de(t.s)&&de(t.l)&&(s=Fe(t.s),d=Fe(t.l),r=function(c,p,f){var g,v,b;if(c=ne(c,360),p=ne(p,100),f=ne(f,100),p===0)v=f,b=f,g=f;else{var y=f<.5?f*(1+p):f+p-f*p,B=2*f-y;g=Ge(B,y,c+1/3),v=Ge(B,y,c),b=Ge(B,y,c-1/3)}return{r:255*g,g:255*v,b:255*b}}(t.h,s,d),l=!0,h="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(i=t.a)),i=function(c){return c=parseFloat(c),(isNaN(c)||c<0||c>1)&&(c=1),c}(i),{ok:l,format:t.format||h,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:i}}var fe="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Je="[\\s|\\(]+(".concat(fe,")[,|\\s]+(").concat(fe,")[,|\\s]+(").concat(fe,")\\s*\\)?"),et="[\\s|\\(]+(".concat(fe,")[,|\\s]+(").concat(fe,")[,|\\s]+(").concat(fe,")[,|\\s]+(").concat(fe,")\\s*\\)?"),re={CSS_UNIT:new RegExp(fe),rgb:new RegExp("rgb"+Je),rgba:new RegExp("rgba"+et),hsl:new RegExp("hsl"+Je),hsla:new RegExp("hsla"+et),hsv:new RegExp("hsv"+Je),hsva:new RegExp("hsva"+et),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function de(t){return Boolean(re.CSS_UNIT.exec(String(t)))}var Ca=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function qt(t){var a=function(n,o,r){n=ne(n,255),o=ne(o,255),r=ne(r,255);var i=Math.max(n,o,r),s=Math.min(n,o,r),u=0,d=i,l=i-s,h=i===0?0:l/i;if(i===s)u=0;else{switch(i){case n:u=(o-r)/l+(o<r?6:0);break;case o:u=(r-n)/l+2;break;case r:u=(n-o)/l+4}u/=6}return{h:u,s:h,v:d}}(t.r,t.g,t.b);return{h:360*a.h,s:a.s,v:a.v}}function Ue(t){var a=t.r,n=t.g,o=t.b;return"#".concat(function(r,i,s,u){var d=[Ze(Math.round(r).toString(16)),Ze(Math.round(i).toString(16)),Ze(Math.round(s).toString(16))];return u&&d[0].startsWith(d[0].charAt(1))&&d[1].startsWith(d[1].charAt(1))&&d[2].startsWith(d[2].charAt(1))?d[0].charAt(0)+d[1].charAt(0)+d[2].charAt(0):d.join("")}(a,n,o,!1))}function ka(t,a,n){var o=n/100;return{r:(a.r-t.r)*o+t.r,g:(a.g-t.g)*o+t.g,b:(a.b-t.b)*o+t.b}}function Kt(t,a,n){var o;return(o=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-2*a:Math.round(t.h)+2*a:n?Math.round(t.h)+2*a:Math.round(t.h)-2*a)<0?o+=360:o>=360&&(o-=360),o}function Qt(t,a,n){return t.h===0&&t.s===0?t.s:((o=n?t.s-.16*a:a===4?t.s+.16:t.s+.05*a)>1&&(o=1),n&&a===5&&o>.1&&(o=.1),o<.06&&(o=.06),Number(o.toFixed(2)));var o}function Zt(t,a,n){var o;return(o=n?t.v+.05*a:t.v-.15*a)>1&&(o=1),Number(o.toFixed(2))}function tt(t){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],o=De(t),r=5;r>0;r-=1){var i=qt(o),s=Ue(De({h:Kt(i,r,!0),s:Qt(i,r,!0),v:Zt(i,r,!0)}));n.push(s)}n.push(Ue(o));for(var u=1;u<=4;u+=1){var d=qt(o),l=Ue(De({h:Kt(d,u),s:Qt(d,u),v:Zt(d,u)}));n.push(l)}return a.theme==="dark"?Ca.map(function(h){var c=h.index,p=h.opacity;return Ue(ka(De(a.backgroundColor||"#141414"),De(n[c]),100*p))}):n}var nt={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Q={},at={};Object.keys(nt).forEach(function(t){Q[t]=tt(nt[t]),Q[t].primary=Q[t][5],at[t]=tt(nt[t],{theme:"dark",backgroundColor:"#141414"}),at[t].primary=at[t][5]}),Q.red,Q.volcano,Q.gold,Q.orange,Q.yellow,Q.lime,Q.green,Q.cyan,Q.blue,Q.geekblue,Q.purple,Q.magenta,Q.grey;var Gt=[],Pe=[];function Ba(t,a){if(a=a||{},t===void 0)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var n,o=a.prepend===!0?"prepend":"append",r=a.container!==void 0?a.container:document.querySelector("head"),i=Gt.indexOf(r);return i===-1&&(i=Gt.push(r)-1,Pe[i]={}),Pe[i]!==void 0&&Pe[i][o]!==void 0?n=Pe[i][o]:(n=Pe[i][o]=function(){var s=document.createElement("style");return s.setAttribute("type","text/css"),s}(),o==="prepend"?r.insertBefore(n,r.childNodes[0]):r.appendChild(n)),t.charCodeAt(0)===65279&&(t=t.substr(1,t.length)),n.styleSheet?n.styleSheet.cssText+=t:n.textContent+=t,n}function Jt(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Na(t,r,n[r])})}return t}function Na(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function en(t){return typeof t=="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(typeof t.icon=="object"||typeof t.icon=="function")}function ot(t,a,n){return n?e.h(t.tag,Jt({key:a},n,t.attrs),(t.children||[]).map(function(o,r){return ot(o,"".concat(a,"-").concat(t.tag,"-").concat(r))})):e.h(t.tag,Jt({key:a},t.attrs),(t.children||[]).map(function(o,r){return ot(o,"".concat(a,"-").concat(t.tag,"-").concat(r))}))}function tn(t){return tt(t)[0]}function nn(t){return t?Array.isArray(t)?t:[t]:[]}var Oa=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,an=!1,Ma=["icon","primaryColor","secondaryColor"];function Sa(t,a){if(t==null)return{};var n,o,r=function(s,u){if(s==null)return{};var d,l,h={},c=Object.keys(s);for(l=0;l<c.length;l++)d=c[l],u.indexOf(d)>=0||(h[d]=s[d]);return h}(t,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $e(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Ea(t,r,n[r])})}return t}function Ea(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var je={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},Ne=function(t,a){var n=$e({},t,a.attrs),o=n.icon,r=n.primaryColor,i=n.secondaryColor,s=Sa(n,Ma),u=je;if(r&&(u={primaryColor:r,secondaryColor:i||tn(r)}),function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oa;e.nextTick(function(){an||(typeof window!="undefined"&&window.document&&window.document.documentElement&&Ba(l,{prepend:!0}),an=!0)})}(),en(o),!en(o))return null;var d=o;return d&&typeof d.icon=="function"&&(d=$e({},d,{icon:d.icon(u.primaryColor,u.secondaryColor)})),ot(d.icon,"svg-".concat(d.name),$e({},s,{"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};Ne.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String},Ne.inheritAttrs=!1,Ne.displayName="IconBase",Ne.getTwoToneColors=function(){return $e({},je)},Ne.setTwoToneColors=function(t){var a=t.primaryColor,n=t.secondaryColor;je.primaryColor=a,je.secondaryColor=n||tn(a),je.calculated=!!n};var rt=Ne;function Va(t,a){return function(n){if(Array.isArray(n))return n}(t)||function(n,o){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,u=[],d=!0,l=!1;try{for(r=r.call(n);!(d=(i=r.next()).done)&&(u.push(i.value),!o||u.length!==o);d=!0);}catch(h){l=!0,s=h}finally{try{d||r.return==null||r.return()}finally{if(l)throw s}}return u}}(t,a)||function(n,o){if(!!n){if(typeof n=="string")return on(n,o);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return on(n,o)}}(t,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function on(t,a){(a==null||a>t.length)&&(a=t.length);for(var n=0,o=new Array(a);n<a;n++)o[n]=t[n];return o}function rn(t){var a=Va(nn(t),2),n=a[0],o=a[1];return rt.setTwoToneColors({primaryColor:n,secondaryColor:o})}var Ta=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function Da(t,a){return function(n){if(Array.isArray(n))return n}(t)||function(n,o){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,u=[],d=!0,l=!1;try{for(r=r.call(n);!(d=(i=r.next()).done)&&(u.push(i.value),!o||u.length!==o);d=!0);}catch(h){l=!0,s=h}finally{try{d||r.return==null||r.return()}finally{if(l)throw s}}return u}}(t,a)||function(n,o){if(!!n){if(typeof n=="string")return ln(n,o);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ln(n,o)}}(t,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ln(t,a){(a==null||a>t.length)&&(a=t.length);for(var n=0,o=new Array(a);n<a;n++)o[n]=t[n];return o}function sn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){it(t,r,n[r])})}return t}function it(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function Pa(t,a){if(t==null)return{};var n,o,r=function(s,u){if(s==null)return{};var d,l,h={},c=Object.keys(s);for(l=0;l<c.length;l++)d=c[l],u.indexOf(d)>=0||(h[d]=s[d]);return h}(t,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}rn("#1890ff");var Oe=function(t,a){var n,o=sn({},t,a.attrs),r=o.class,i=o.icon,s=o.spin,u=o.rotate,d=o.tabindex,l=o.twoToneColor,h=o.onClick,c=Pa(o,Ta),p=(it(n={anticon:!0},"anticon-".concat(i.name),Boolean(i.name)),it(n,r,r),n),f=s===""||s||i.name==="loading"?"anticon-spin":"",g=d;g===void 0&&h&&(g=-1,c.tabindex=g);var v=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,b=Da(nn(l),2),y=b[0],B=b[1];return e.createVNode("span",sn({role:"img","aria-label":i.name},c,{onClick:h,class:p}),[e.createVNode(rt,{class:f,icon:i,primaryColor:y,secondaryColor:B,style:v},null)])};Oe.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String},Oe.displayName="AntdIcon",Oe.inheritAttrs=!1,Oe.getTwoToneColor=function(){var t=rt.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor},Oe.setTwoToneColor=rn;var G=Oe,ja={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function cn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){za(t,r,n[r])})}return t}function za(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var lt=function(t,a){var n=cn({},t,a.attrs);return e.createVNode(G,cn({},n,{icon:ja}),null)};lt.displayName="CheckCircleFilled",lt.inheritAttrs=!1;var La=lt,Aa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};function un(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Ra(t,r,n[r])})}return t}function Ra(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var st=function(t,a){var n=un({},t,a.attrs);return e.createVNode(G,un({},n,{icon:Aa}),null)};st.displayName="CloseCircleFilled",st.inheritAttrs=!1;var Ha=st,Wa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};function dn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){_a(t,r,n[r])})}return t}function _a(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var ct=function(t,a){var n=dn({},t,a.attrs);return e.createVNode(G,dn({},n,{icon:Wa}),null)};ct.displayName="CloseOutlined",ct.inheritAttrs=!1;var Ia=ct,Fa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};function hn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Ua(t,r,n[r])})}return t}function Ua(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var ut=function(t,a){var n=hn({},t,a.attrs);return e.createVNode(G,hn({},n,{icon:Fa}),null)};ut.displayName="DeleteOutlined",ut.inheritAttrs=!1;var $a=ut,Ya={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function pn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Xa(t,r,n[r])})}return t}function Xa(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var dt=function(t,a){var n=pn({},t,a.attrs);return e.createVNode(G,pn({},n,{icon:Ya}),null)};dt.displayName="ExclamationCircleOutlined",dt.inheritAttrs=!1;var ht=dt,qa={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};function fn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Ka(t,r,n[r])})}return t}function Ka(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var pt=function(t,a){var n=fn({},t,a.attrs);return e.createVNode(G,fn({},n,{icon:qa}),null)};pt.displayName="LoadingOutlined",pt.inheritAttrs=!1;var Qa=pt,Za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};function mn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Ga(t,r,n[r])})}return t}function Ga(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var ft=function(t,a){var n=mn({},t,a.attrs);return e.createVNode(G,mn({},n,{icon:Za}),null)};ft.displayName="LockOutlined",ft.inheritAttrs=!1;var Ja=ft,eo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"};function gn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){to(t,r,n[r])})}return t}function to(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var mt=function(t,a){var n=gn({},t,a.attrs);return e.createVNode(G,gn({},n,{icon:eo}),null)};mt.displayName="LogoutOutlined",mt.inheritAttrs=!1;var no=mt,ao={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"};function vn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){oo(t,r,n[r])})}return t}function oo(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var gt=function(t,a){var n=vn({},t,a.attrs);return e.createVNode(G,vn({},n,{icon:ao}),null)};gt.displayName="MenuFoldOutlined",gt.inheritAttrs=!1;var ro=gt,io={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};function bn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){lo(t,r,n[r])})}return t}function lo(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var vt=function(t,a){var n=bn({},t,a.attrs);return e.createVNode(G,bn({},n,{icon:io}),null)};vt.displayName="MenuUnfoldOutlined",vt.inheritAttrs=!1;var so=vt,co={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};function yn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){uo(t,r,n[r])})}return t}function uo(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var bt=function(t,a){var n=yn({},t,a.attrs);return e.createVNode(G,yn({},n,{icon:co}),null)};bt.displayName="MoreOutlined",bt.inheritAttrs=!1;var ho=bt,po={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};function wn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){fo(t,r,n[r])})}return t}function fo(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var yt=function(t,a){var n=wn({},t,a.attrs);return e.createVNode(G,wn({},n,{icon:po}),null)};yt.displayName="PlusOutlined",yt.inheritAttrs=!1;var mo=yt,go={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};function xn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){vo(t,r,n[r])})}return t}function vo(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var wt=function(t,a){var n=xn({},t,a.attrs);return e.createVNode(G,xn({},n,{icon:go}),null)};wt.displayName="ReloadOutlined",wt.inheritAttrs=!1;var bo=wt,yo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M567.1 512l318.5-319.3c5-5 1.5-13.7-5.6-13.7h-90.5c-2.1 0-4.2.8-5.6 2.3l-273.3 274-90.2-90.5c12.5-22.1 19.7-47.6 19.7-74.8 0-83.9-68.1-152-152-152s-152 68.1-152 152 68.1 152 152 152c27.7 0 53.6-7.4 75.9-20.3l90 90.3-90.1 90.3A151.04 151.04 0 00288 582c-83.9 0-152 68.1-152 152s68.1 152 152 152 152-68.1 152-152c0-27.2-7.2-52.7-19.7-74.8l90.2-90.5 273.3 274c1.5 1.5 3.5 2.3 5.6 2.3H880c7.1 0 10.7-8.6 5.6-13.7L567.1 512zM288 370c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80zm0 444c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]},name:"scissor",theme:"outlined"};function Cn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){wo(t,r,n[r])})}return t}function wo(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var xt=function(t,a){var n=Cn({},t,a.attrs);return e.createVNode(G,Cn({},n,{icon:yo}),null)};xt.displayName="ScissorOutlined",xt.inheritAttrs=!1;var xo=xt,Co={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};function kn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?Object(arguments[a]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){ko(t,r,n[r])})}return t}function ko(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}var Ct=function(t,a){var n=kn({},t,a.attrs);return e.createVNode(G,kn({},n,{icon:Co}),null)};Ct.displayName="SettingOutlined",Ct.inheritAttrs=!1;var Bo=Ct;const No=e.createElementVNode("div",{id:"vats-header",class:"vats-flex vats-flex-1"},null,-1),Oo={key:1,style:{"padding-left":"6px"}},Mo=e.defineComponent({name:"VatsHeader"}),So=e.defineComponent(X(A({},Mo),{props:{collapsed:{type:Boolean},userInfo:null},emits:["handleMenuToggle","handleShowSetting"],setup(t,{emit:a}){const n=t,{collapsed:o,userInfo:r}=e.toRefs(n);return(i,s)=>{var u,d;const l=e.resolveComponent("a-avatar");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.withDirectives(e.createVNode(e.unref(ro),{class:"vats-menu-toggle",onClick:s[0]||(s[0]=h=>a("handleMenuToggle"))},null,512),[[e.vShow,!e.unref(o)]]),e.withDirectives(e.createVNode(e.unref(so),{class:"vats-menu-toggle",onClick:s[1]||(s[1]=h=>a("handleMenuToggle"))},null,512),[[e.vShow,e.unref(o)]]),No,e.unref(r)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"vats-hover-dropdown",onClick:s[2]||(s[2]=h=>a("handleShowSetting"))},[(u=e.unref(r))!==null&&u!==void 0&&u.avatar?(e.openBlock(),e.createBlock(l,{key:0,shape:"circle",size:"small",src:e.unref(r).avatar,style:{verticalAlign:"middle"}},null,8,["src"])):e.createCommentVNode("",!0),(d=e.unref(r))!==null&&d!==void 0&&d.nickname?(e.openBlock(),e.createElementBlock("span",Oo,e.toDisplayString(e.unref(r).nickname),1)):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",{key:1,class:"vats-hover-dropdown vats-flex",onClick:s[3]||(s[3]=h=>a("handleShowSetting"))},[e.createVNode(e.unref(Bo),{style:{"font-size":"16px"}})]))],64)}}})),kt=document.querySelector("html"),Bt={refresh:!0,cached:[],darkMode:!1,tabVisible:!0,tabFixed:!0},Eo={class:"vats-flex"},Vo={class:"vats-flex vats-setting-subtitle"},To={class:"vats-flex-1"},Do={class:"vats-flex vats-setting-subtitle"},Po={class:"vats-flex-1"},jo={class:"vats-flex vats-setting-subtitle"},zo={class:"vats-flex-1"},Lo=e.defineComponent({name:"VatsSetting"}),Ao=e.defineComponent(X(A({},Lo),{props:{userInfo:null,onLogout:null,onEditPwd:null},setup(t){const a=t,{userInfo:n,onLogout:o,onEditPwd:r}=e.toRefs(a),i=e.inject("vatsProvider",Bt),s=e.inject("vatsLang",{message:{}}),u=(h,c)=>{i[h]=c,function(p){const{darkMode:f,tabFixed:g,tabVisible:v}=e.toRaw(p);f?kt.setAttribute("vats-mode","dark"):kt.removeAttribute("vats-mode"),localStorage.setItem("vats-setting",JSON.stringify({darkMode:f,tabFixed:g,tabVisible:v}))}(i)},d=()=>{pe.Modal.confirm({title:s.message.logoutTitle,icon:e.createVNode(ht),content:s.message.logoutMessage,centered:!0,okText:s.message.confirm,cancelText:s.message.cancel,onOk:async()=>a==null||!a.onLogout||a.onLogout()})},l=()=>{a!=null&&a.onEditPwd&&a.onEditPwd()};return(h,c)=>{const p=e.resolveComponent("a-avatar"),f=e.resolveComponent("a-typography-text"),g=e.resolveComponent("a-switch"),v=e.resolveComponent("a-divider"),b=e.resolveComponent("a-drawer");return e.openBlock(),e.createBlock(b,e.mergeProps({id:"vats-setting",placement:"right",width:"320px"},h.$attrs,{onClose:c[3]||(c[3]=y=>h.$emit("update:visible",!1))}),{title:e.withCtx(()=>{var y,B;return[e.createElementVNode("header",Eo,[(y=e.unref(n))!==null&&y!==void 0&&y.avatar?(e.openBlock(),e.createBlock(p,{key:0,shape:"circle",size:"default",src:e.unref(n).avatar,style:{verticalAlign:"middle",marginRight:"8px"}},null,8,["src"])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString((B=e.unref(n))===null||B===void 0?void 0:B.nickname),1)])]}),default:e.withCtx(()=>[e.renderSlot(h.$slots,"setting"),e.createVNode(f,{strong:"",class:"vats-block vats-setting-title"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(s).message.styleSetting),1)]),_:1}),e.createElementVNode("div",Vo,[e.createElementVNode("span",To,[e.createVNode(f,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(s).message.darkSetting),1)]),_:1})]),e.createElementVNode("div",null,[e.createVNode(g,{checked:e.unref(i).darkMode,onChange:c[0]||(c[0]=y=>u("darkMode",y))},null,8,["checked"])])]),e.createElementVNode("div",Do,[e.createElementVNode("span",Po,[e.createVNode(f,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(s).message.showTabSetting),1)]),_:1})]),e.createElementVNode("div",null,[e.createVNode(g,{checked:e.unref(i).tabVisible,onChange:c[1]||(c[1]=y=>u("tabVisible",y))},null,8,["checked"])])]),e.createElementVNode("div",jo,[e.createElementVNode("span",zo,[e.createVNode(f,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(s).message.fixedTabSetting),1)]),_:1})]),e.createElementVNode("div",null,[e.createVNode(g,{checked:e.unref(i).tabFixed,onChange:c[2]||(c[2]=y=>u("tabFixed",y))},null,8,["checked"])])]),e.unref(o)||e.unref(r)?(e.openBlock(),e.createBlock(v,{key:0})):e.createCommentVNode("",!0),e.unref(o)||e.unref(r)?(e.openBlock(),e.createBlock(f,{key:1,strong:"",class:"vats-block vats-setting-title"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(s).message.more),1)]),_:1})):e.createCommentVNode("",!0),e.unref(r)?(e.openBlock(),e.createElementBlock("div",{key:2,class:"vats-more-item vats-flex",onClick:l},[e.createVNode(e.unref(Ja),{class:"vats-setting-icon"}),e.createVNode(f,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(s).message.editPassword),1)]),_:1})])):e.createCommentVNode("",!0),e.unref(o)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"vats-more-item vats-flex",onClick:d},[e.createVNode(f,{type:"danger"},{default:e.withCtx(()=>[e.createVNode(e.unref(no),{class:"vats-setting-icon"})]),_:1}),e.createVNode(f,{type:"danger"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(s).message.logout),1)]),_:1})])):e.createCommentVNode("",!0)]),_:3},16)}}})),Ro={class:"vats-flex"},Ho=e.defineComponent({name:"VatsTab"}),Wo=e.defineComponent(X(A({},Ho),{emits:["refreshCache"],setup(t,{emit:a}){const n=q.useRoute(),o=q.useRouter(),r=e.inject("vatsProvider",Bt),i=e.inject("vatsLang",{message:{}}),s=()=>{if(l.value=n.fullPath,n.name!=="Index"&&(h.value.length===0||!h.value.some(p=>p.fullPath===n.fullPath))){const p=n.meta;h.value.push({title:n.query.title||n.meta.title,fullPath:n.fullPath,name:n.name,cached:p.cached===!0||p.cached===void 0})}};e.onMounted(()=>{s()}),e.watch(()=>n.fullPath,()=>{s()});const u=p=>{p!==l.value&&o.push(p)},d=()=>{a("refreshCache")},l=e.ref(""),h=e.ref([]),c=({key:p})=>{switch(p){case"closeAll":h.value=h.value.filter(f=>f.fullPath===l.value),r.cached=h.value[0].cached?[h.value[0].name]:[];break;case"refresh":d()}};return(p,f)=>{const g=e.resolveComponent("a-tab-pane"),v=e.resolveComponent("a-menu-item"),b=e.resolveComponent("a-menu"),y=e.resolveComponent("a-dropdown"),B=e.resolveComponent("a-tabs");return e.openBlock(),e.createBlock(B,{activeKey:l.value,tabBarStyle:{paddingLeft:"16px",paddingRight:"16px"},"hide-add":"",size:"small",onTabClick:u,type:"editable-card",class:"vats-layout-tab"},{rightExtra:e.withCtx(()=>[e.createVNode(y,{onClick:c},{overlay:e.withCtx(()=>[e.createVNode(b,{onClick:c},{default:e.withCtx(()=>[e.createVNode(v,{key:"closeAll"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(i).message.closeOther),1)]),_:1}),e.createVNode(v,{key:"refresh"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(i).message.refreshPage),1)]),_:1})]),_:1})]),default:e.withCtx(()=>[e.createElementVNode("a",{class:"ant-dropdown-link p-12 mr-8",onClick:f[0]||(f[0]=e.withModifiers(()=>{},["prevent"]))},[e.createVNode(e.unref(ho),{class:"text-16 leading-0"})])]),_:1})]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(k,x)=>(e.openBlock(),e.createBlock(g,{key:k.fullPath,closable:!1},{tab:e.withCtx(()=>[e.createElementVNode("span",Ro,[e.createTextVNode(e.toDisplayString(k.title)+" ",1),e.withDirectives(e.createVNode(e.unref(bo),{class:"vats-tab-icon",onClick:e.withModifiers(d,["stop"])},null,8,["onClick"]),[[e.vShow,k.fullPath===l.value]]),e.withDirectives(e.createVNode(e.unref(Ia),{class:"vats-tab-icon",onClick:e.withModifiers(m=>(M=>{const{fullPath:E,name:z,cached:_}=h.value[M];h.value.splice(M,1),_&&(r.cached=r.cached.filter(I=>I!==z)),E===l.value&&(l.value=h.value[h.value.length-1].fullPath,o.push(l.value))})(x),["stop"])},null,8,["onClick"]),[[e.vShow,h.value.length!==1]])])]),_:2},1024))),128))]),_:1},8,["activeKey"])}}}));function Bn(){return!!window.navigator.userAgent.match(/(Android|iPhone|SymbianOS|Windows Phone|iPad|iPod)/i)}function Nn(t,a=200,n=!1){let o;return function(...r){if(n)return t.apply(this,r),void(n=!1);clearTimeout(o),o=setTimeout(()=>{t.apply(this,r)},a)}}const _o={key:1,style:{height:"42px"}},Io=e.defineComponent({name:"VatsLayout"}),Fo=e.defineComponent(X(A({},Io),{props:{system:null,menu:{default:()=>[]},userInfo:null,startYear:null,onLogout:null,onEditPwd:null},setup(t){var a;const n=t,o=q.useRoute(),{system:r,menu:i,userInfo:s,onLogout:u,onEditPwd:d}=e.toRefs(n),l=e.inject("vatsProvider",Bt),h=Bn(),c=e.reactive({collapsed:h,isMobile:h,transition:!0,showSetting:!1}),p=e.computed(()=>c.collapsed?"80px":"200px"),f=e.computed(()=>!c.collapsed&&c.isMobile),g=e.computed(()=>l.tabVisible?l.cached:[]),v=e.computed(()=>{let k=new Date().getFullYear();return n.startYear?n.startYear.toString()===k.toString()?n.startYear:`${n.startYear}-${k}`:""}),b=async(k=!1)=>async function(x,m,M=!1){return M?x.cached=[]:m.meta.cached!==!1&&(x.cached=x.cached.filter(E=>m.name!==E)),x.refresh=!1,await e.nextTick(),m.meta.cached!==!1&&(x.cached=[...x.cached,m.name]),x.refresh=!0,!0}(l,o,k),y=()=>{o.meta.cached===!1||l.cached.includes(o.name)||(l.cached=[...l.cached,o.name])};y(),e.watch(()=>o.name,k=>{y()});const B=()=>Nn(()=>{var k,x,m,M;c.collapsed&&((k=window)===null||k===void 0?void 0:k.innerWidth)>1200?c.collapsed=!1:!c.collapsed&&((x=window)===null||x===void 0?void 0:x.innerWidth)<=1200&&(c.collapsed=!0),c.isMobile&&((m=window)===null||m===void 0?void 0:m.innerWidth)>750?c.isMobile=!1:!c.isMobile&&((M=window)===null||M===void 0?void 0:M.innerWidth)<=750&&(c.isMobile=!0)},250)();return B(),(a=window)===null||a===void 0||a.addEventListener("resize",B,!1),e.onBeforeUnmount(()=>{var k;(k=window)===null||k===void 0||k.removeEventListener("resize",B,!1)}),(k,x)=>{const m=e.resolveComponent("a-layout-sider"),M=e.resolveComponent("a-drawer"),E=e.resolveComponent("a-layout-header"),z=e.resolveComponent("router-view"),_=e.resolveComponent("a-layout-content"),I=e.resolveComponent("a-layout-footer"),W=e.resolveComponent("a-layout");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(W,{class:"vats-h-full"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass({"vats-layout-transition":!e.unref(c).isMobile}),style:e.normalizeStyle({width:e.unref(p)})},null,6),[[e.vShow,!e.unref(c).isMobile]]),e.withDirectives(e.createVNode(m,{collapsed:e.unref(c).collapsed,"onUpdate:collapsed":x[0]||(x[0]=C=>e.unref(c).collapsed=C),collapsible:"",trigger:null,class:"vats-layout-sider vats-h-full vats-flex vats-flex-column"},{default:e.withCtx(()=>[e.createVNode($t,{system:e.unref(r),collapsed:e.unref(c).collapsed,menu:e.unref(i)},null,8,["system","collapsed","menu"])]),_:1},8,["collapsed"]),[[e.vShow,!e.unref(c).isMobile]]),e.createVNode(M,{placement:"left",width:"200px",closable:!1,visible:e.unref(f),bodyStyle:{padding:0,height:"100%"},onClose:x[1]||(x[1]=C=>e.unref(c).collapsed=!1)},{default:e.withCtx(()=>[e.createVNode(m,{class:"vats-h-full vats-flex vats-flex-column",collapsible:"",theme:"light",style:{overflow:"hidden"},collapsed:!1,trigger:null},{default:e.withCtx(()=>[e.createVNode($t,{system:e.unref(r),collapsed:e.unref(c).collapsed,menu:e.unref(i)},null,8,["system","collapsed","menu"])]),_:1})]),_:1},8,["visible"]),e.createVNode(W,null,{default:e.withCtx(()=>[e.createVNode(E,{class:"vats-layout-header vats-flex"},{default:e.withCtx(()=>[e.createVNode(So,{collapsed:e.unref(c).collapsed,userInfo:e.unref(s),onHandleMenuToggle:x[2]||(x[2]=C=>e.unref(c).collapsed=!e.unref(c).collapsed),onHandleShowSetting:x[3]||(x[3]=C=>e.unref(c).showSetting=!0)},null,8,["collapsed","userInfo"])]),_:1}),e.unref(l).tabVisible?(e.openBlock(),e.createBlock(Wo,{key:0,class:e.normalizeClass([e.unref(l).tabFixed?"vats-tab-fixed":"",!e.unref(c).isMobile&&e.unref(c).transition?"vats-layout-transition":""]),style:e.normalizeStyle({width:e.unref(l).tabFixed&&!e.unref(c).isMobile?`calc(100% - ${e.unref(p)})`:"100%"}),onRefreshCache:b},null,8,["class","style"])):e.createCommentVNode("",!0),e.unref(l).tabVisible&&e.unref(l).tabFixed?(e.openBlock(),e.createElementBlock("div",_o)):e.createCommentVNode("",!0),e.createVNode(_,null,{default:e.withCtx(()=>[e.createVNode(z,null,{default:e.withCtx(({Component:C})=>[e.createVNode(e.Transition,{name:"slid-up",mode:"out-in"},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.KeepAlive,{include:e.unref(g)},[e.unref(l).refresh?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(C),{key:(C||{}).name})):e.createCommentVNode("",!0)],1032,["include"]))]),_:2},1024)]),_:1})]),_:1}),e.createVNode(I,{style:{"text-align":"center"}},{default:e.withCtx(()=>[e.createTextVNode(" \xA9 "+e.toDisplayString(e.unref(v))+" Vats ",1)]),_:1})]),_:1})]),_:1}),e.createVNode(Ao,{visible:e.unref(c).showSetting,"onUpdate:visible":x[4]||(x[4]=C=>e.unref(c).showSetting=C),userInfo:e.unref(s),onLogout:e.unref(u),onEditPwd:e.unref(d)},{setting:e.withCtx(()=>[e.renderSlot(k.$slots,"setting")]),_:3},8,["visible","userInfo","onLogout","onEditPwd"])],64)}}})),Nt={"zh-cn":{confirm:"\u786E \u8BA4",cancel:"\u53D6 \u6D88",loading:"\u52A0\u8F7D\u4E2D...",search:"\u641C \u7D22",searchPlaceholder:"\u8BF7\u8F93\u5165\u8981\u641C\u7D22\u7684\u5173\u952E\u5B57",pageTotal:"\u5171 {total} \u6761\u6570\u636E",noPermission:"\u5BF9\u4E0D\u8D77\uFF0C\u60A8\u6CA1\u6709\u6743\u9650\u8BBF\u95EE\u6B64\u9875\u9762\uFF01",styleSetting:"\u98CE\u683C\u8BBE\u7F6E",darkSetting:"\u591C\u95F4\u6A21\u5F0F",showTabSetting:"\u663E\u793A\u6807\u7B7E\u680F",fixedTabSetting:"\u6807\u7B7E\u680F\u56FA\u5B9A\u5728\u9876\u90E8",more:"\u7CFB\u7EDF\u64CD\u4F5C",logout:"\u9000\u51FA\u767B\u5F55",logoutTitle:"\u9000\u51FA\u786E\u8BA4",logoutMessage:"\u60A8\u786E\u5B9A\u8981\u9000\u51FA\u672C\u7CFB\u7EDF\u5417?",closeOther:"\u5173\u95ED\u5176\u4ED6",refreshPage:"\u5237\u65B0\u5F53\u524D\u9875",backToDashBoard:"\u56DE\u5230Dashboard",editPassword:"\u4FEE\u6539\u5BC6\u7801",uploaderTitle:"\u4E0A\u4F20\u56FE\u7247",uploaderTab0:"\u672C\u5730\u4E0A\u4F20",uploaderTab1:"\u56FE\u7247\u5E93",uploaderPrimary:"\u4E0A \u4F20",uploaderEmptyTitle:"\u70B9\u51FB\u6216\u5C06\u56FE\u7247\u62D6\u62FD\u5230\u8FD9\u91CC\u4E0A\u4F20",uploaderEmptySubTitle:"\u652F\u6301\u6269\u5C55\u540D\uFF1A.jpg\u3001.jpeg\u3001.png\u3001.webp\u3001.gif\u7B49",uploaderError0:"\u9009\u62E9\u7684\u6587\u4EF6\u7C7B\u578B\u4E0D\u53EF\u4E0A\u4F20",uploaderError1:"\u53EA\u80FD\u6DFB\u52A0{max}\u5F20\u56FE\u7247",uploaderError2:"\u5355\u4E2A\u6587\u4EF6\u5185\u5B58\u4E0D\u80FD\u8D85\u8FC7\uFF1A{max}M",uploaderError3:"\u56FE\u7247\u5C3A\u5BF8\u4E0D\u80FD\u4F4E\u4E8E\uFF1A{size}",uploaderRemove:"\u5220\u9664\u6B64\u56FE\u7247",uploaderMustCropTips:"\u5171\u6709{number}\u5F20\u56FE\u7247\u4E0D\u7B26\u5408\u5C3A\u5BF8\u8981\u6C42",uploaderPrev:"\u4E0A\u4E00\u5F20",uploaderNext:"\u4E0B\u4E00\u5F20",uploaderConfirmNext:"\u786E\u8BA4\u88C1\u526A\u5E76\u5207\u6362\u5230\u4E0B\u4E00\u5F20",uploaderConfirmCrop:"\u786E\u8BA4\u88C1\u526A",uploaderBackTitle:"\u786E\u8BA4\u9000\u51FA\u88C1\u526A\u5417\uFF1F",uploaderBackMsg:"\u4E0D\u7B26\u5408\u5C3A\u5BF8\u7684\u56FE\u7247\u5C06\u4F1A\u88AB\u5220\u9664\uFF01",uploadBack:"\u8FD4 \u56DE",uploadError:"\u56FE\u7247\u4E0A\u4F20\u5931\u8D25",uploadListError:"\u83B7\u53D6\u56FE\u7247\u5E93\u6570\u636E\u5931\u8D25",uploadWaitTitle:"\u6CE8\u610F",uploadWaitMsg:"\u8FD8\u6709{number}\u5F20\u56FE\u7247\u672A\u4E0A\u4F20\uFF0C\u786E\u8BA4\u53EA\u9009\u62E9\u5DF2\u4E0A\u4F20\u7684\u56FE\u7247\u5417\uFF1F",deviceTitle:"\u5DF2\u767B\u5F55\u8BBE\u5907",deviceLoginTime:"\u6D3B\u8DC3\u65F6\u95F4",selected:"\u5DF2\u9009\uFF1A",copySuccess:"\u5DF2\u7C98\u8D34\u8FDB\u526A\u5207\u677F",systemTitle:"\u6211\u7684\u6743\u9650"},en:{confirm:"Confirm",cancel:"Cancel",loading:"Loading...",search:"Search",searchPlaceholder:"Please enter the keywords to search",pageTotal:"Total {total} records",noPermission:"Sorry, you do not have permission to access this page!",styleSetting:"Style Setting",darkSetting:"Night Mode",showTabSetting:"Show tab bar",fixedTabSetting:"Tab bar fixed top",more:"System action",logout:"Logout",logoutTitle:"Tips",logoutMessage:"Are you sure you want to log out of this system?",closeOther:"Close other tabs",refreshPage:"Refresh current page",backToDashBoard:"Back to Dashboard",editPassword:"Change Password",uploaderTitle:"Upload Image",uploaderTab0:"Upload From Local",uploaderTab1:"Picture Library",uploaderPrimary:"Upload",uploaderEmptyTitle:"Click or drag file to this area to upload",uploaderEmptySubTitle:"Support file extensions: .jpg, .jpeg, .png, .webp, .gif, etc.",uploaderError0:"The selected file type cannot be uploaded",uploaderError1:"Only {max} more picture can be added",uploaderError2:"The memory of a single file cannot exceed: {max}M",uploaderError3:"Image size cannot be less than: {size}",uploaderRemove:"Delete this picture",uploaderMustCropTips:"There is {number} picture that does not fit the size",uploaderPrev:"Previous",uploaderNext:"Next",uploaderConfirmNext:"Confirm the crop and switch to the next",uploaderConfirmCrop:"Confirm crop",uploaderBackTitle:"Are you sure to exit cropping?",uploaderBackMsg:"Images that do not match the size will be deleted!",uploadBack:"Back",uploadError:"Image upload failed",uploadListError:"Failed to get image library data",uploadWaitTitle:"Notice",uploadWaitMsg:"There is still {number} picture that has not been uploaded. Are you sure to select only the uploaded picture?",deviceTitle:"Login to device management",deviceLoginTime:"Active time",selected:"Selected\uFF1A",copySuccess:"Has been pasted into the clipboard",systemTitle:"Mine"},ja:{confirm:"\u78BA \u8A8D",cancel:"\u53D6 \u6D88",loading:"\u8AAD\u307F\u8FBC\u307F\u4E2D...",search:"\u63A2\u3059",searchPlaceholder:"\u691C\u7D22\u3059\u308B\u30AD\u30FC\u30EF\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",pageTotal:"\u5408\u8A08 {total} \u30EC\u30B3\u30FC\u30C9",noPermission:"\u7533\u3057\u8A33\u3042\u308A\u307E\u305B\u3093\u304C\u3001\u3053\u306E\u30DA\u30FC\u30B8\u306B\u30A2\u30AF\u30BB\u30B9\u3059\u308B\u6A29\u9650\u304C\u3042\u308A\u307E\u305B\u3093\u3002",styleSetting:"\u30B9\u30BF\u30A4\u30EB\u8A2D\u5B9A",darkSetting:"\u30CA\u30A4\u30C8\u30E2\u30FC\u30C9",showTabSetting:"\u30BF\u30D6\u30D0\u30FC\u3092\u8868\u793A",fixedTabSetting:"\u30BF\u30D6\u30D0\u30FC\u56FA\u5B9A\u30C8\u30C3\u30D7",more:"System action",logout:"\u30ED\u30B0\u30A2\u30A6\u30C8",logoutTitle:"\u7D42\u4E86\u78BA\u8A8D",logoutMessage:"\u3053\u306E\u30B7\u30B9\u30C6\u30E0\u304B\u3089\u30ED\u30B0\u30A2\u30A6\u30C8\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B?",closeOther:"\u4ED6\u306E\u30BF\u30D6\u3092\u9589\u3058\u308B",refreshPage:"\u73FE\u5728\u306E\u30DA\u30FC\u30B8\u3092\u66F4\u65B0",backToDashBoard:"Dashboard \u306B\u623B\u308B",editPassword:"\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5909\u66F4\u3059\u308B",uploaderTitle:"\u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",uploaderTab0:"\u30ED\u30FC\u30AB\u30EB\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",uploaderTab1:"\u753B\u50CF\u30E9\u30A4\u30D6\u30E9\u30EA",uploaderPrimary:"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",uploaderEmptyTitle:"\u3053\u3061\u3089\u306E\u753B\u50CF\u3092\u30AF\u30EA\u30C3\u30AF\u307E\u305F\u306F\u30C9\u30E9\u30C3\u30B0\u3057\u3066\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u3066\u304F\u3060\u3055\u3044",uploaderEmptySubTitle:"\u30B5\u30DD\u30FC\u30C8\u30D5\u30A1\u30A4\u30EB\u62E1\u5F35\u5B50\uFF1A.jpg\u3001.jpeg\u3001.png\u3001.webp\u3001.gif\u306A\u3069",uploaderError0:"\u9078\u629E\u3057\u305F\u30D5\u30A1\u30A4\u30EB\u30BF\u30A4\u30D7\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3067\u304D\u307E\u305B\u3093",uploaderError1:"\u8FFD\u52A0\u3067\u304D\u308B\u753B\u50CF\u306F{max}\u3064\u3060\u3051\u3067\u3059",uploaderError2:"1\u3064\u306E\u30D5\u30A1\u30A4\u30EB\u306E\u30E1\u30E2\u30EA\u306F\u6B21\u3092\u8D85\u3048\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093\uFF1A{max}M",uploaderError3:"\u753B\u50CF\u30B5\u30A4\u30BA\u306F\u6B21\u306E\u5024\u3088\u308A\u5C0F\u3055\u304F\u3059\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093\uFF1A{size}",uploaderRemove:"\u3053\u306E\u5199\u771F\u3092\u524A\u9664\u3059\u308B",uploaderMustCropTips:"\u30B5\u30A4\u30BA\u306B\u5408\u308F\u306A\u3044\u5199\u771F\u304C{number}\u679A\u3042\u308A\u307E\u3059",uploaderPrev:"\u524D",uploaderNext:"\u6B21",uploaderConfirmNext:"\u5207\u308A\u629C\u304D\u3092\u78BA\u8A8D\u3057\u3001\u6B21\u306E\u5207\u308A\u629C\u304D\u306B\u5207\u308A\u66FF\u3048\u307E\u3059",uploaderConfirmCrop:"\u4F5C\u7269\u3092\u78BA\u8A8D\u3059\u308B",uploaderBackTitle:"\u30C8\u30EA\u30DF\u30F3\u30B0\u3092\u7D42\u4E86\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F",uploaderBackMsg:"\u30B5\u30A4\u30BA\u306B\u5408\u308F\u306A\u3044\u753B\u50CF\u306F\u524A\u9664\u3055\u308C\u307E\u3059\uFF01",uploadBack:"\u8FD4 \u56DE",uploadError:"\u753B\u50CF\u306E\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306B\u5931\u6557\u3057\u307E\u3057\u305F",uploadListError:"\u753B\u50CF\u30E9\u30A4\u30D6\u30E9\u30EA\u30C7\u30FC\u30BF\u306E\u53D6\u5F97\u306B\u5931\u6557\u3057\u307E\u3057\u305F",uploadWaitTitle:"\u77E5\u3089\u305B",uploadWaitMsg:"\u307E\u3060\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3055\u308C\u3066\u3044\u306A\u3044\u753B\u50CF\u304C{number}\u679A\u3042\u308A\u307E\u3059\u304C\u3001\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3055\u308C\u305F\u753B\u50CF\u306E\u307F\u3092\u9078\u629E\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F",deviceTitle:"\u30C7\u30D0\u30A4\u30B9\u7BA1\u7406\u306B\u30ED\u30B0\u30A4\u30F3\u3057\u307E\u3059",deviceLoginTime:"\u6D3B\u52D5\u6642\u9593",selected:"\u9078\u629E\u6E08\u307F\uFF1A",copySuccess:"\u304C\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u8CBC\u308A\u4ED8\u3051\u3089\u308C\u307E\u3057\u305F",systemTitle:"Mine"}},Uo=e.defineComponent({name:"VatsProvider"}),On=e.defineComponent(X(A({},Uo),{props:{locale:{default:()=>({locale:"zh-cn"})}},setup(t){const a=t,{locale:n}=e.toRefs(a),o=function(){const s=localStorage.getItem("vats-setting");let u={darkMode:!1,tabFixed:!0,tabVisible:!0};try{s&&(u=JSON.parse(s))}catch{}return u.darkMode&&kt.setAttribute("vats-mode","dark"),e.reactive(X(A({},u),{cached:[],refresh:!0}))}();e.provide("vatsProvider",o);const r=(i=a.locale?a.locale.locale:"zh-cn",e.reactive({message:Nt[i]}));var i;return e.provide("vatsLang",r),e.watch(()=>n.value,async s=>{r.message=s!=null&&s.locale?Nt[s.locale]:Nt["zh-cn"]}),(s,u)=>{const d=e.resolveComponent("a-config-provider");return e.openBlock(),e.createBlock(d,e.mergeProps({locale:e.unref(n)},s.$attrs),{default:e.withCtx(()=>[e.renderSlot(s.$slots,"default")]),_:3},16,["locale"])}}})),$o={class:"vats-select-loading vats-flex vats-flex-column"},Yo=e.defineComponent({name:"VatsSelect"}),Mn=e.defineComponent(X(A({},Yo),{props:{loading:{type:Boolean}},setup(t){const a=t,{loading:n}=e.toRefs(a),o=r=>r.parentNode;return(r,i)=>{const s=e.resolveComponent("a-select");return e.openBlock(),e.createBlock(s,e.mergeProps({getPopupContainer:o},r.$attrs,{"not-found-content":e.unref(n)?void 0:null}),e.createSlots({_:2},[e.unref(n)?{name:"notFoundContent",fn:e.withCtx(()=>[e.createElementVNode("div",$o,[e.createVNode(Ie)])])}:void 0,e.renderList(r.$slots,(u,d)=>({name:d,fn:e.withCtx(l=>[r.$slots.name!=="notFoundContent"?e.renderSlot(r.$slots,d,e.normalizeProps(e.mergeProps({key:0},l))):e.createCommentVNode("",!0)])}))]),1040,["not-found-content"])}}})),Xo={key:0},qo={key:0,class:"vats-page-breadcrumb-wrap"},Ko={key:0},Qo={class:"vats-page-wrap"},Zo=e.defineComponent({name:"VatsPage"}),Sn=e.defineComponent(X(A({},Zo),{props:{showPageHeader:{type:Boolean},breadcrumb:null,title:null,desc:null,hasPermission:{type:Boolean}},emits:["init"],setup(t,{emit:a}){const n=t,{appContext:o}=e.getCurrentInstance(),{showPageHeader:r,breadcrumb:i,title:s,desc:u,hasPermission:d}=e.toRefs(n),l=q.useRoute(),h=e.inject("vatsLang",{message:{}}),c=e.computed(()=>(s==null?void 0:s.value)||l.meta.title&&l.meta.title),p=e.computed(()=>(u==null?void 0:u.value)||l.meta.desc&&l.meta.desc);(d!=null&&d.value||o.config.globalProperties.$checkPermissions(l.meta.permission))&&a("init");const f=e.computed(()=>(i==null?void 0:i.value)||l.meta.breadcrumb||l.matched.slice(1).map(g=>({path:g.path,breadcrumbName:g.meta.title})));return(g,v)=>{const b=e.resolveComponent("router-link"),y=e.resolveComponent("a-breadcrumb"),B=e.resolveComponent("a-page-header"),k=e.resolveComponent("a-result");return g.$checkPermissions(e.unref(l).meta.permission)||e.unref(d)?(e.openBlock(),e.createElementBlock("div",Xo,[e.unref(r)?(e.openBlock(),e.createElementBlock("div",qo,[e.createVNode(B,{title:e.unref(c),ghost:!1},{breadcrumb:e.withCtx(()=>[e.unref(f).length>1?(e.openBlock(),e.createBlock(y,{key:0,routes:e.unref(f)},{itemRender:e.withCtx(({route:x})=>[e.createVNode(b,{to:x.path},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(x.breadcrumbName),1)]),_:2},1032,["to"])]),_:1},8,["routes"])):e.createCommentVNode("",!0)]),default:e.withCtx(()=>[e.unref(p)?(e.openBlock(),e.createElementBlock("p",Ko,e.toDisplayString(e.unref(p)),1)):e.createCommentVNode("",!0),e.renderSlot(g.$slots,"header")]),_:3},8,["title"])])):e.createCommentVNode("",!0),e.createElementVNode("div",Qo,[e.renderSlot(g.$slots,"default")])])):(e.openBlock(),e.createBlock(k,{key:1,status:"403",title:"403",class:"vats-error","sub-title":e.unref(h).message.noPermission},null,8,["sub-title"]))}}})),Go=e.defineComponent({name:"VatsTable"}),En=e.defineComponent(X(A({},Go),{props:{loading:{type:Boolean,default:!1},scroll:{default:()=>({x:1460})},styleClass:null},setup(t){const a=t,{loading:n,scroll:o,styleClass:r}=e.toRefs(a);return(i,s)=>{const u=e.resolveComponent("a-space"),d=e.resolveComponent("a-col"),l=e.resolveComponent("a-row"),h=e.resolveComponent("a-table"),c=e.resolveDirective("loading");return e.withDirectives((e.openBlock(),e.createBlock(h,e.mergeProps({scroll:e.unref(o)},i.$attrs),e.createSlots({_:2},[i.$slots.title||i.$slots.extra?{name:"title",fn:e.withCtx(()=>[e.createVNode(l,{align:"middle",class:e.normalizeClass(["vats-wrap",e.unref(r)])},{default:e.withCtx(()=>[e.createVNode(d,{flex:1},{default:e.withCtx(()=>[i.$slots.title?(e.openBlock(),e.createBlock(u,{key:0,class:"vats-wrap"},{default:e.withCtx(()=>[e.renderSlot(i.$slots,"title")]),_:3})):e.createCommentVNode("",!0)]),_:3}),e.createVNode(d,null,{default:e.withCtx(()=>[i.$slots.extra?(e.openBlock(),e.createBlock(u,{key:0},{default:e.withCtx(()=>[e.renderSlot(i.$slots,"extra")]),_:3})):e.createCommentVNode("",!0)]),_:3})]),_:3},8,["class"])])}:void 0,e.renderList(i.$slots,(p,f)=>({name:f,fn:e.withCtx(g=>[i.$slots.name!=="extra"&&i.$slots.name!=="title"?e.renderSlot(i.$slots,f,e.normalizeProps(e.mergeProps({key:0},g))):e.createCommentVNode("",!0)])}))]),1040,["scroll"])),[[c,e.unref(n)]])}}})),Jo={key:0,class:"vats-drawer-footer"},er=e.defineComponent({name:"VatsDrawer"}),Vn=e.defineComponent(X(A({},er),{props:{visible:{type:Boolean,default:!1},width:{default:"500px"},bodyStyle:{default:()=>({})}},emits:["update:visible","close","show"],setup(t,{emit:a}){const n=t,{visible:o,width:r,bodyStyle:i}=e.toRefs(n),s=e.useSlots(),u=e.computed(()=>s.footer?X(A({},i.value),{paddingBottom:"55px"}):e.toRaw(i.value));e.watch(()=>o.value,l=>{l&&a("show")});const d=()=>{a("update:visible",!1),a("close")};return(l,h)=>{const c=e.resolveComponent("a-drawer");return e.openBlock(),e.createBlock(c,e.mergeProps(l.$attrs,{visible:e.unref(o),width:e.unref(r),maskClosable:!1,"body-style":e.unref(u),onClose:d}),{default:e.withCtx(()=>[e.renderSlot(l.$slots,"default"),l.$slots.footer?(e.openBlock(),e.createElementBlock("div",Jo,[e.renderSlot(l.$slots,"footer")])):e.createCommentVNode("",!0)]),_:3},16,["visible","width","body-style"])}}})),tr=e.defineComponent({name:"VatsButton"}),Tn=e.defineComponent(X(A({},tr),{props:{type:{default:"default"},success:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},info:{type:Boolean,default:!1}},setup(t){const a=t,{type:n,success:o,warning:r,info:i}=e.toRefs(a),s=e.computed(()=>{let u="";return o.value?u+="vats-btn-success":r.value?u+="vats-btn-warning":i.value&&(u+="vats-btn-info"),u});return(u,d)=>{const l=e.resolveComponent("a-button");return e.openBlock(),e.createBlock(l,e.mergeProps(u.$attrs,{type:e.unref(n),class:e.unref(s)}),{icon:e.withCtx(()=>[e.renderSlot(u.$slots,"icon")]),default:e.withCtx(()=>[e.renderSlot(u.$slots,"default")]),_:3},16,["type","class"])}}})),nr={class:"vats-flex vats-flex-column vats-uploader-empty"},ar={role:"button",tabindex:"0",class:"ant-upload ant-upload-btn"},or={class:"ant-upload-drag-container"},rr=e.createElementVNode("p",{class:"ant-upload-drag-icon"},[e.createElementVNode("span",{role:"img","aria-label":"picture",class:"anticon anticon-picture"},[e.createElementVNode("svg",{focusable:"false",class:"","data-icon":"picture",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",viewBox:"64 64 896 896"},[e.createElementVNode("path",{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"})])])],-1),ir={class:"ant-upload-text"},lr={class:"ant-upload-hint"},sr=e.defineComponent({name:"VatsUploaderEmpty"}),cr=e.defineComponent(X(A({},sr),{props:{emptyTitle:null,emptySubTitle:null},emits:["select"],setup(t,{emit:a}){const n=t,{emptyTitle:o,emptySubTitle:r}=e.toRefs(n),i=e.inject("vatsLang",{message:{}});return(s,u)=>(e.openBlock(),e.createElementBlock("div",nr,[e.createElementVNode("div",{class:"vats-uploader-trigger ant-upload ant-upload-drag",onClick:u[0]||(u[0]=e.withModifiers(d=>a("select"),["stop"]))},[e.createElementVNode("div",ar,[e.createElementVNode("div",or,[rr,e.createElementVNode("p",ir,e.toDisplayString(e.unref(o)||e.unref(i).message.uploaderEmptyTitle),1),e.createElementVNode("p",lr,e.toDisplayString(e.unref(r)||e.unref(i).message.uploaderEmptySubTitle),1)])])])]))}})),ur={class:"vats-uploader-item"},dr={class:"vats-uploader-item-preview"},hr={class:"vats-uploader-item-tag"},pr={class:"vats-uploader-item-loading vats-flex vats-flex-column"},fr={class:"ant-card-actions"},mr={key:0,style:{width:"50%"}},gr=e.defineComponent({name:"VatsUploaderItem"}),vr=e.defineComponent(X(A({},gr),{props:{item:null,index:{default:-1},crop:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["handleCrop","handleDelete"],setup(t,{emit:a}){const n=t,{item:o,index:r,crop:i,loading:s,disabled:u}=e.toRefs(n);return(d,l)=>{const h=e.resolveComponent("a-image"),c=e.resolveComponent("vats-button"),p=e.resolveComponent("a-card");return e.openBlock(),e.createElementBlock("div",ur,[e.createVNode(p,{bordered:"",hoverable:"","body-style":{padding:0}},{cover:e.withCtx(()=>{var f;return[e.createElementVNode("div",dr,[e.createVNode(h,{width:"100%",src:(f=e.unref(o))===null||f===void 0?void 0:f.url},null,8,["src"]),e.createElementVNode("div",hr,[e.withDirectives(e.createVNode(e.unref(La),{style:{color:"#67c23a","font-size":"18px"}},null,512),[[e.vShow,e.unref(o).uploadSuccess]]),e.withDirectives(e.createVNode(e.unref(Ha),{style:{color:"#ff4949","font-size":"18px"}},null,512),[[e.vShow,e.unref(o).uploadFail]])]),e.withDirectives(e.createElementVNode("span",pr,[e.createVNode(e.unref(Qa))],512),[[e.vShow,!e.unref(o).uploadSuccess&&e.unref(s)]])])]}),default:e.withCtx(()=>[e.createElementVNode("ul",fr,[e.unref(i)&&!e.unref(o).uploadSuccess?(e.openBlock(),e.createElementBlock("li",mr,[e.createVNode(c,{type:"link",block:"",disabled:e.unref(o).uploadSuccess||!e.unref(i)||e.unref(o).file.type==="image/gif"||e.unref(u)||!e.unref(o).uploadSuccess&&e.unref(s),key:"scissor",onClick:l[0]||(l[0]=e.withModifiers(f=>{return g=e.unref(o),v=e.unref(r),void a("handleCrop",g,v);var g,v},["stop"]))},{icon:e.withCtx(()=>[e.createVNode(e.unref(xo))]),_:1},8,["disabled"])])):e.createCommentVNode("",!0),e.createElementVNode("li",{style:e.normalizeStyle({width:e.unref(i)&&!e.unref(o).uploadSuccess?"50%":"100%"})},[e.createVNode(c,{type:"link",block:"",disabled:e.unref(u)||!e.unref(o).uploadSuccess&&e.unref(s),key:"delete",danger:"",onClick:l[1]||(l[1]=e.withModifiers(f=>{return g=e.unref(o),v=e.unref(r),void a("handleDelete",g,v);var g,v},["stop"]))},{icon:e.withCtx(()=>[e.createVNode(e.unref($a))]),_:1},8,["disabled"])],4)])]),_:1})])}}}));/*!
   * Cropper.js v1.5.12
   * https://fengyuanchen.github.io/cropperjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2021-06-12T08:00:17.411Z
   */function Dn(t,a){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Pn(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?Dn(Object(n),!0).forEach(function(o){yr(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Ot(t){return Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ot(t)}function br(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function jn(t,a){for(var n=0;n<a.length;n++){var o=a[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function yr(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function zn(t){return function(a){if(Array.isArray(a))return Mt(a)}(t)||function(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(t)||function(a,n){if(!!a){if(typeof a=="string")return Mt(a,n);var o=Object.prototype.toString.call(a).slice(8,-1);if(o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set")return Array.from(a);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Mt(a,n)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mt(t,a){(a==null||a>t.length)&&(a=t.length);for(var n=0,o=new Array(a);n<a;n++)o[n]=t[n];return o}var Ye=typeof window!="undefined"&&window.document!==void 0,le=Ye?window:{},St=!(!Ye||!le.document.documentElement)&&"ontouchstart"in le.document.documentElement,Et=!!Ye&&"PointerEvent"in le,F="cropper",Vt="all",Ln="crop",An="move",Rn="zoom",ye="e",we="w",Me="s",me="n",ze="ne",Le="nw",Ae="se",Re="sw",Tt="".concat(F,"-crop"),Hn="".concat(F,"-disabled"),J="".concat(F,"-hidden"),Wn="".concat(F,"-hide"),wr="".concat(F,"-invisible"),Xe="".concat(F,"-modal"),Dt="".concat(F,"-move"),He="".concat(F,"Action"),qe="".concat(F,"Preview"),Pt="crop",_n="move",In="none",jt="crop",zt="cropend",Lt="cropmove",At="cropstart",Fn="dblclick",Un=Et?"pointerdown":St?"touchstart":"mousedown",$n=Et?"pointermove":St?"touchmove":"mousemove",Yn=Et?"pointerup pointercancel":St?"touchend touchcancel":"mouseup",Xn="ready",qn="resize",Kn="wheel",Rt="zoom",Qn="image/jpeg",xr=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Cr=/^data:/,kr=/^data:image\/jpeg;base64,/,Br=/^img|canvas$/i,Zn={viewMode:0,dragMode:Pt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Nr=Number.isNaN||le.isNaN;function V(t){return typeof t=="number"&&!Nr(t)}var Gn=function(t){return t>0&&t<1/0};function Ht(t){return t===void 0}function xe(t){return Ot(t)==="object"&&t!==null}var Or=Object.prototype.hasOwnProperty;function Se(t){if(!xe(t))return!1;try{var a=t.constructor,n=a.prototype;return a&&n&&Or.call(n,"isPrototypeOf")}catch{return!1}}function ee(t){return typeof t=="function"}var Mr=Array.prototype.slice;function Jn(t){return Array.from?Array.from(t):Mr.call(t)}function U(t,a){return t&&ee(a)&&(Array.isArray(t)||V(t.length)?Jn(t).forEach(function(n,o){a.call(t,n,o,t)}):xe(t)&&Object.keys(t).forEach(function(n){a.call(t,t[n],n,t)})),t}var H=Object.assign||function(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];return xe(t)&&n.length>0&&n.forEach(function(r){xe(r)&&Object.keys(r).forEach(function(i){t[i]=r[i]})}),t},Sr=/\.\d*(?:0|9){12}\d*$/;function Ee(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Sr.test(t)?Math.round(t*a)/a:t}var Er=/^width|height|left|top|marginLeft|marginTop$/;function ge(t,a){var n=t.style;U(a,function(o,r){Er.test(r)&&V(o)&&(o="".concat(o,"px")),n[r]=o})}function Y(t,a){if(a)if(V(t.length))U(t,function(o){Y(o,a)});else if(t.classList)t.classList.add(a);else{var n=t.className.trim();n?n.indexOf(a)<0&&(t.className="".concat(n," ").concat(a)):t.className=a}}function se(t,a){a&&(V(t.length)?U(t,function(n){se(n,a)}):t.classList?t.classList.remove(a):t.className.indexOf(a)>=0&&(t.className=t.className.replace(a,"")))}function Ve(t,a,n){a&&(V(t.length)?U(t,function(o){Ve(o,a,n)}):n?Y(t,a):se(t,a))}var Vr=/([a-z\d])([A-Z])/g;function Wt(t){return t.replace(Vr,"$1-$2").toLowerCase()}function _t(t,a){return xe(t[a])?t[a]:t.dataset?t.dataset[a]:t.getAttribute("data-".concat(Wt(a)))}function We(t,a,n){xe(n)?t[a]=n:t.dataset?t.dataset[a]=n:t.setAttribute("data-".concat(Wt(a)),n)}var ea=/\s\s*/,ta=function(){var t=!1;if(Ye){var a=!1,n=function(){},o=Object.defineProperty({},"once",{get:function(){return t=!0,a},set:function(r){a=r}});le.addEventListener("test",n,o),le.removeEventListener("test",n,o)}return t}();function ie(t,a,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=n;a.trim().split(ea).forEach(function(i){if(!ta){var s=t.listeners;s&&s[i]&&s[i][n]&&(r=s[i][n],delete s[i][n],Object.keys(s[i]).length===0&&delete s[i],Object.keys(s).length===0&&delete t.listeners)}t.removeEventListener(i,r,o)})}function ae(t,a,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=n;a.trim().split(ea).forEach(function(i){if(o.once&&!ta){var s=t.listeners,u=s===void 0?{}:s;r=function(){delete u[i][n],t.removeEventListener(i,r,o);for(var d=arguments.length,l=new Array(d),h=0;h<d;h++)l[h]=arguments[h];n.apply(t,l)},u[i]||(u[i]={}),u[i][n]&&t.removeEventListener(i,u[i][n],o),u[i][n]=r,t.listeners=u}t.addEventListener(i,r,o)})}function Te(t,a,n){var o;return ee(Event)&&ee(CustomEvent)?o=new CustomEvent(a,{detail:n,bubbles:!0,cancelable:!0}):(o=document.createEvent("CustomEvent")).initCustomEvent(a,!0,!0,n),t.dispatchEvent(o)}function na(t){var a=t.getBoundingClientRect();return{left:a.left+(window.pageXOffset-document.documentElement.clientLeft),top:a.top+(window.pageYOffset-document.documentElement.clientTop)}}var It=le.location,Tr=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function aa(t){var a=t.match(Tr);return a!==null&&(a[1]!==It.protocol||a[2]!==It.hostname||a[3]!==It.port)}function oa(t){var a="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+a}function _e(t){var a=t.rotate,n=t.scaleX,o=t.scaleY,r=t.translateX,i=t.translateY,s=[];V(r)&&r!==0&&s.push("translateX(".concat(r,"px)")),V(i)&&i!==0&&s.push("translateY(".concat(i,"px)")),V(a)&&a!==0&&s.push("rotate(".concat(a,"deg)")),V(n)&&n!==1&&s.push("scaleX(".concat(n,")")),V(o)&&o!==1&&s.push("scaleY(".concat(o,")"));var u=s.length?s.join(" "):"none";return{WebkitTransform:u,msTransform:u,transform:u}}function Ke(t,a){var n=t.pageX,o=t.pageY,r={endX:n,endY:o};return a?r:Pn({startX:n,startY:o},r)}function ve(t){var a=t.aspectRatio,n=t.height,o=t.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=Gn(o),s=Gn(n);if(i&&s){var u=n*a;r==="contain"&&u>o||r==="cover"&&u<o?n=o/a:o=n*a}else i?n=o/a:s&&(o=n*a);return{width:o,height:n}}function Dr(t,a,n,o){var r=a.aspectRatio,i=a.naturalWidth,s=a.naturalHeight,u=a.rotate,d=u===void 0?0:u,l=a.scaleX,h=l===void 0?1:l,c=a.scaleY,p=c===void 0?1:c,f=n.aspectRatio,g=n.naturalWidth,v=n.naturalHeight,b=o.fillColor,y=b===void 0?"transparent":b,B=o.imageSmoothingEnabled,k=B===void 0||B,x=o.imageSmoothingQuality,m=x===void 0?"low":x,M=o.maxWidth,E=M===void 0?1/0:M,z=o.maxHeight,_=z===void 0?1/0:z,I=o.minWidth,W=I===void 0?0:I,C=o.minHeight,O=C===void 0?0:C,w=document.createElement("canvas"),N=w.getContext("2d"),K=ve({aspectRatio:f,width:E,height:_}),Z=ve({aspectRatio:f,width:W,height:O},"cover"),P=Math.min(K.width,Math.max(Z.width,g)),oe=Math.min(K.height,Math.max(Z.height,v)),ce=ve({aspectRatio:r,width:E,height:_}),ue=ve({aspectRatio:r,width:W,height:O},"cover"),Ce=Math.min(ce.width,Math.max(ue.width,i)),be=Math.min(ce.height,Math.max(ue.height,s)),ke=[-Ce/2,-be/2,Ce,be];return w.width=Ee(P),w.height=Ee(oe),N.fillStyle=y,N.fillRect(0,0,P,oe),N.save(),N.translate(P/2,oe/2),N.rotate(d*Math.PI/180),N.scale(h,p),N.imageSmoothingEnabled=k,N.imageSmoothingQuality=m,N.drawImage.apply(N,[t].concat(zn(ke.map(function(Qe){return Math.floor(Ee(Qe))})))),N.restore(),w}var ra=String.fromCharCode,Pr=/^data:.*,/;function jr(t){var a,n=new DataView(t);try{var o,r,i;if(n.getUint8(0)===255&&n.getUint8(1)===216)for(var s=n.byteLength,u=2;u+1<s;){if(n.getUint8(u)===255&&n.getUint8(u+1)===225){r=u;break}u+=1}if(r){var d=r+10;if(function(g,v,b){var y="";b+=v;for(var B=v;B<b;B+=1)y+=ra(g.getUint8(B));return y}(n,r+4,4)==="Exif"){var l=n.getUint16(d);if(((o=l===18761)||l===19789)&&n.getUint16(d+2,o)===42){var h=n.getUint32(d+4,o);h>=8&&(i=d+h)}}}if(i){var c,p,f=n.getUint16(i,o);for(p=0;p<f;p+=1)if(c=i+12*p+2,n.getUint16(c,o)===274){c+=8,a=n.getUint16(c,o),n.setUint16(c,1,o);break}}}catch{a=1}return a}var zr={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,a=this.options,n=this.container,o=this.cropper,r=Number(a.minContainerWidth),i=Number(a.minContainerHeight);Y(o,J),se(t,J);var s={width:Math.max(n.offsetWidth,r>=0?r:200),height:Math.max(n.offsetHeight,i>=0?i:100)};this.containerData=s,ge(o,{width:s.width,height:s.height}),Y(t,J),se(o,J)},initCanvas:function(){var t=this.containerData,a=this.imageData,n=this.options.viewMode,o=Math.abs(a.rotate)%180==90,r=o?a.naturalHeight:a.naturalWidth,i=o?a.naturalWidth:a.naturalHeight,s=r/i,u=t.width,d=t.height;t.height*s>t.width?n===3?u=t.height*s:d=t.width/s:n===3?d=t.width/s:u=t.height*s;var l={aspectRatio:s,naturalWidth:r,naturalHeight:i,width:u,height:d};this.canvasData=l,this.limited=n===1||n===2,this.limitCanvas(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.left=(t.width-l.width)/2,l.top=(t.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCanvasData=H({},l)},limitCanvas:function(t,a){var n=this.options,o=this.containerData,r=this.canvasData,i=this.cropBoxData,s=n.viewMode,u=r.aspectRatio,d=this.cropped&&i;if(t){var l=Number(n.minCanvasWidth)||0,h=Number(n.minCanvasHeight)||0;s>1?(l=Math.max(l,o.width),h=Math.max(h,o.height),s===3&&(h*u>l?l=h*u:h=l/u)):s>0&&(l?l=Math.max(l,d?i.width:0):h?h=Math.max(h,d?i.height:0):d&&(l=i.width,(h=i.height)*u>l?l=h*u:h=l/u));var c=ve({aspectRatio:u,width:l,height:h});l=c.width,h=c.height,r.minWidth=l,r.minHeight=h,r.maxWidth=1/0,r.maxHeight=1/0}if(a)if(s>(d?0:1)){var p=o.width-r.width,f=o.height-r.height;r.minLeft=Math.min(0,p),r.minTop=Math.min(0,f),r.maxLeft=Math.max(0,p),r.maxTop=Math.max(0,f),d&&this.limited&&(r.minLeft=Math.min(i.left,i.left+(i.width-r.width)),r.minTop=Math.min(i.top,i.top+(i.height-r.height)),r.maxLeft=i.left,r.maxTop=i.top,s===2&&(r.width>=o.width&&(r.minLeft=Math.min(0,p),r.maxLeft=Math.max(0,p)),r.height>=o.height&&(r.minTop=Math.min(0,f),r.maxTop=Math.max(0,f))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=o.width,r.maxTop=o.height},renderCanvas:function(t,a){var n=this.canvasData,o=this.imageData;if(a){var r=function(l){var h=l.width,c=l.height,p=l.degree;if((p=Math.abs(p)%180)==90)return{width:c,height:h};var f=p%90*Math.PI/180,g=Math.sin(f),v=Math.cos(f),b=h*v+c*g,y=h*g+c*v;return p>90?{width:y,height:b}:{width:b,height:y}}({width:o.naturalWidth*Math.abs(o.scaleX||1),height:o.naturalHeight*Math.abs(o.scaleY||1),degree:o.rotate||0}),i=r.width,s=r.height,u=n.width*(i/n.naturalWidth),d=n.height*(s/n.naturalHeight);n.left-=(u-n.width)/2,n.top-=(d-n.height)/2,n.width=u,n.height=d,n.aspectRatio=i/s,n.naturalWidth=i,n.naturalHeight=s,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,ge(this.canvas,H({width:n.width,height:n.height},_e({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var a=this.canvasData,n=this.imageData,o=n.naturalWidth*(a.width/a.naturalWidth),r=n.naturalHeight*(a.height/a.naturalHeight);H(n,{width:o,height:r,left:(a.width-o)/2,top:(a.height-r)/2}),ge(this.image,H({width:n.width,height:n.height},_e(H({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,a=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,o=Number(t.autoCropArea)||.8,r={width:a.width,height:a.height};n&&(a.height*n>a.width?r.height=r.width/n:r.width=r.height*n),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*o),r.height=Math.max(r.minHeight,r.height*o),r.left=a.left+(a.width-r.width)/2,r.top=a.top+(a.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=H({},r)},limitCropBox:function(t,a){var n=this.options,o=this.containerData,r=this.canvasData,i=this.cropBoxData,s=this.limited,u=n.aspectRatio;if(t){var d=Number(n.minCropBoxWidth)||0,l=Number(n.minCropBoxHeight)||0,h=s?Math.min(o.width,r.width,r.width+r.left,o.width-r.left):o.width,c=s?Math.min(o.height,r.height,r.height+r.top,o.height-r.top):o.height;d=Math.min(d,o.width),l=Math.min(l,o.height),u&&(d&&l?l*u>d?l=d/u:d=l*u:d?l=d/u:l&&(d=l*u),c*u>h?c=h/u:h=c*u),i.minWidth=Math.min(d,h),i.minHeight=Math.min(l,c),i.maxWidth=h,i.maxHeight=c}a&&(s?(i.minLeft=Math.max(0,r.left),i.minTop=Math.max(0,r.top),i.maxLeft=Math.min(o.width,r.left+r.width)-i.width,i.maxTop=Math.min(o.height,r.top+r.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=o.width-i.width,i.maxTop=o.height-i.height))},renderCropBox:function(){var t=this.options,a=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&We(this.face,He,n.width>=a.width&&n.height>=a.height?An:Vt),ge(this.cropBox,H({width:n.width,height:n.height},_e({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Te(this.element,jt,this.getData())}},Lr={initPreview:function(){var t=this.element,a=this.crossOrigin,n=this.options.preview,o=a?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",i=document.createElement("img");if(a&&(i.crossOrigin=a),i.src=o,i.alt=r,this.viewBox.appendChild(i),this.viewBoxImage=i,n){var s=n;typeof n=="string"?s=t.ownerDocument.querySelectorAll(n):n.querySelector&&(s=[n]),this.previews=s,U(s,function(u){var d=document.createElement("img");We(u,qe,{width:u.offsetWidth,height:u.offsetHeight,html:u.innerHTML}),a&&(d.crossOrigin=a),d.src=o,d.alt=r,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',u.innerHTML="",u.appendChild(d)})}},resetPreview:function(){U(this.previews,function(t){var a=_t(t,qe);ge(t,{width:a.width,height:a.height}),t.innerHTML=a.html,function(n,o){if(xe(n[o]))try{delete n[o]}catch{n[o]=void 0}else if(n.dataset)try{delete n.dataset[o]}catch{n.dataset[o]=void 0}else n.removeAttribute("data-".concat(Wt(o)))}(t,qe)})},preview:function(){var t=this.imageData,a=this.canvasData,n=this.cropBoxData,o=n.width,r=n.height,i=t.width,s=t.height,u=n.left-a.left-t.left,d=n.top-a.top-t.top;this.cropped&&!this.disabled&&(ge(this.viewBoxImage,H({width:i,height:s},_e(H({translateX:-u,translateY:-d},t)))),U(this.previews,function(l){var h=_t(l,qe),c=h.width,p=h.height,f=c,g=p,v=1;o&&(g=r*(v=c/o)),r&&g>p&&(f=o*(v=p/r),g=p),ge(l,{width:f,height:g}),ge(l.getElementsByTagName("img")[0],H({width:i*v,height:s*v},_e(H({translateX:-u*v,translateY:-d*v},t))))}))}},Ar={bind:function(){var t=this.element,a=this.options,n=this.cropper;ee(a.cropstart)&&ae(t,At,a.cropstart),ee(a.cropmove)&&ae(t,Lt,a.cropmove),ee(a.cropend)&&ae(t,zt,a.cropend),ee(a.crop)&&ae(t,jt,a.crop),ee(a.zoom)&&ae(t,Rt,a.zoom),ae(n,Un,this.onCropStart=this.cropStart.bind(this)),a.zoomable&&a.zoomOnWheel&&ae(n,Kn,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&ae(n,Fn,this.onDblclick=this.dblclick.bind(this)),ae(t.ownerDocument,$n,this.onCropMove=this.cropMove.bind(this)),ae(t.ownerDocument,Yn,this.onCropEnd=this.cropEnd.bind(this)),a.responsive&&ae(window,qn,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,a=this.options,n=this.cropper;ee(a.cropstart)&&ie(t,At,a.cropstart),ee(a.cropmove)&&ie(t,Lt,a.cropmove),ee(a.cropend)&&ie(t,zt,a.cropend),ee(a.crop)&&ie(t,jt,a.crop),ee(a.zoom)&&ie(t,Rt,a.zoom),ie(n,Un,this.onCropStart),a.zoomable&&a.zoomOnWheel&&ie(n,Kn,this.onWheel,{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&ie(n,Fn,this.onDblclick),ie(t.ownerDocument,$n,this.onCropMove),ie(t.ownerDocument,Yn,this.onCropEnd),a.responsive&&ie(window,qn,this.onResize)}},Rr={resize:function(){if(!this.disabled){var t,a,n=this.options,o=this.container,r=this.containerData,i=o.offsetWidth/r.width,s=o.offsetHeight/r.height,u=Math.abs(i-1)>Math.abs(s-1)?i:s;u!==1&&(n.restore&&(t=this.getCanvasData(),a=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(U(t,function(d,l){t[l]=d*u})),this.setCropBoxData(U(a,function(d,l){a[l]=d*u}))))}},dblclick:function(){var t,a;this.disabled||this.options.dragMode===In||this.setDragMode((t=this.dragBox,a=Tt,(t.classList?t.classList.contains(a):t.className.indexOf(a)>-1)?_n:Pt))},wheel:function(t){var a=this,n=Number(this.options.wheelZoomRatio)||.1,o=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){a.wheeling=!1},50),t.deltaY?o=t.deltaY>0?1:-1:t.wheelDelta?o=-t.wheelDelta/120:t.detail&&(o=t.detail>0?1:-1),this.zoom(-o*n,t)))},cropStart:function(t){var a=t.buttons,n=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(V(a)&&a!==1||V(n)&&n!==0||t.ctrlKey))){var o,r=this.options,i=this.pointers;t.changedTouches?U(t.changedTouches,function(s){i[s.identifier]=Ke(s)}):i[t.pointerId||0]=Ke(t),o=Object.keys(i).length>1&&r.zoomable&&r.zoomOnTouch?Rn:_t(t.target,He),xr.test(o)&&Te(this.element,At,{originalEvent:t,action:o})!==!1&&(t.preventDefault(),this.action=o,this.cropping=!1,o===Ln&&(this.cropping=!0,Y(this.dragBox,Xe)))}},cropMove:function(t){var a=this.action;if(!this.disabled&&a){var n=this.pointers;t.preventDefault(),Te(this.element,Lt,{originalEvent:t,action:a})!==!1&&(t.changedTouches?U(t.changedTouches,function(o){H(n[o.identifier]||{},Ke(o,!0))}):H(n[t.pointerId||0]||{},Ke(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var a=this.action,n=this.pointers;t.changedTouches?U(t.changedTouches,function(o){delete n[o.identifier]}):delete n[t.pointerId||0],a&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Ve(this.dragBox,Xe,this.cropped&&this.options.modal)),Te(this.element,zt,{originalEvent:t,action:a}))}}},Hr={change:function(t){var a,n=this.options,o=this.canvasData,r=this.containerData,i=this.cropBoxData,s=this.pointers,u=this.action,d=n.aspectRatio,l=i.left,h=i.top,c=i.width,p=i.height,f=l+c,g=h+p,v=0,b=0,y=r.width,B=r.height,k=!0;!d&&t.shiftKey&&(d=c&&p?c/p:1),this.limited&&(v=i.minLeft,b=i.minTop,y=v+Math.min(r.width,o.width,o.left+o.width),B=b+Math.min(r.height,o.height,o.top+o.height));var x=s[Object.keys(s)[0]],m={x:x.endX-x.startX,y:x.endY-x.startY},M=function(E){switch(E){case ye:f+m.x>y&&(m.x=y-f);break;case we:l+m.x<v&&(m.x=v-l);break;case me:h+m.y<b&&(m.y=b-h);break;case Me:g+m.y>B&&(m.y=B-g)}};switch(u){case Vt:l+=m.x,h+=m.y;break;case ye:if(m.x>=0&&(f>=y||d&&(h<=b||g>=B))){k=!1;break}M(ye),(c+=m.x)<0&&(u=we,l-=c=-c),d&&(p=c/d,h+=(i.height-p)/2);break;case me:if(m.y<=0&&(h<=b||d&&(l<=v||f>=y))){k=!1;break}M(me),p-=m.y,h+=m.y,p<0&&(u=Me,h-=p=-p),d&&(c=p*d,l+=(i.width-c)/2);break;case we:if(m.x<=0&&(l<=v||d&&(h<=b||g>=B))){k=!1;break}M(we),c-=m.x,l+=m.x,c<0&&(u=ye,l-=c=-c),d&&(p=c/d,h+=(i.height-p)/2);break;case Me:if(m.y>=0&&(g>=B||d&&(l<=v||f>=y))){k=!1;break}M(Me),(p+=m.y)<0&&(u=me,h-=p=-p),d&&(c=p*d,l+=(i.width-c)/2);break;case ze:if(d){if(m.y<=0&&(h<=b||f>=y)){k=!1;break}M(me),p-=m.y,h+=m.y,c=p*d}else M(me),M(ye),m.x>=0?f<y?c+=m.x:m.y<=0&&h<=b&&(k=!1):c+=m.x,m.y<=0?h>b&&(p-=m.y,h+=m.y):(p-=m.y,h+=m.y);c<0&&p<0?(u=Re,h-=p=-p,l-=c=-c):c<0?(u=Le,l-=c=-c):p<0&&(u=Ae,h-=p=-p);break;case Le:if(d){if(m.y<=0&&(h<=b||l<=v)){k=!1;break}M(me),p-=m.y,h+=m.y,c=p*d,l+=i.width-c}else M(me),M(we),m.x<=0?l>v?(c-=m.x,l+=m.x):m.y<=0&&h<=b&&(k=!1):(c-=m.x,l+=m.x),m.y<=0?h>b&&(p-=m.y,h+=m.y):(p-=m.y,h+=m.y);c<0&&p<0?(u=Ae,h-=p=-p,l-=c=-c):c<0?(u=ze,l-=c=-c):p<0&&(u=Re,h-=p=-p);break;case Re:if(d){if(m.x<=0&&(l<=v||g>=B)){k=!1;break}M(we),c-=m.x,l+=m.x,p=c/d}else M(Me),M(we),m.x<=0?l>v?(c-=m.x,l+=m.x):m.y>=0&&g>=B&&(k=!1):(c-=m.x,l+=m.x),m.y>=0?g<B&&(p+=m.y):p+=m.y;c<0&&p<0?(u=ze,h-=p=-p,l-=c=-c):c<0?(u=Ae,l-=c=-c):p<0&&(u=Le,h-=p=-p);break;case Ae:if(d){if(m.x>=0&&(f>=y||g>=B)){k=!1;break}M(ye),p=(c+=m.x)/d}else M(Me),M(ye),m.x>=0?f<y?c+=m.x:m.y>=0&&g>=B&&(k=!1):c+=m.x,m.y>=0?g<B&&(p+=m.y):p+=m.y;c<0&&p<0?(u=Le,h-=p=-p,l-=c=-c):c<0?(u=Re,l-=c=-c):p<0&&(u=ze,h-=p=-p);break;case An:this.move(m.x,m.y),k=!1;break;case Rn:this.zoom(function(E){var z=Pn({},E),_=0;return U(E,function(I,W){delete z[W],U(z,function(C){var O=Math.abs(I.startX-C.startX),w=Math.abs(I.startY-C.startY),N=Math.abs(I.endX-C.endX),K=Math.abs(I.endY-C.endY),Z=Math.sqrt(O*O+w*w),P=(Math.sqrt(N*N+K*K)-Z)/Z;Math.abs(P)>Math.abs(_)&&(_=P)})}),_}(s),t),k=!1;break;case Ln:if(!m.x||!m.y){k=!1;break}a=na(this.cropper),l=x.startX-a.left,h=x.startY-a.top,c=i.minWidth,p=i.minHeight,m.x>0?u=m.y>0?Ae:ze:m.x<0&&(l-=c,u=m.y>0?Re:Le),m.y<0&&(h-=p),this.cropped||(se(this.cropBox,J),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}k&&(i.width=c,i.height=p,i.left=l,i.top=h,this.action=u,this.renderCropBox()),U(s,function(E){E.startX=E.endX,E.startY=E.endY})}},Wr={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Y(this.dragBox,Xe),se(this.cropBox,J),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=H({},this.initialImageData),this.canvasData=H({},this.initialCanvasData),this.cropBoxData=H({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(H(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),se(this.dragBox,Xe),Y(this.cropBox,J)),this},replace:function(t){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),a?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,U(this.previews,function(n){n.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,se(this.cropper,Hn)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Y(this.cropper,Hn)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,o=n.left,r=n.top;return this.moveTo(Ht(t)?t:o+Number(t),Ht(a)?a:r+Number(a))},moveTo:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,o=!1;return t=Number(t),a=Number(a),this.ready&&!this.disabled&&this.options.movable&&(V(t)&&(n.left=t,o=!0),V(a)&&(n.top=a,o=!0),o&&this.renderCanvas(!0)),this},zoom:function(t,a){var n=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,null,a)},zoomTo:function(t,a,n){var o=this.options,r=this.canvasData,i=r.width,s=r.height,u=r.naturalWidth,d=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&o.zoomable){var l=u*t,h=d*t;if(Te(this.element,Rt,{ratio:t,oldRatio:i/u,originalEvent:n})===!1)return this;if(n){var c=this.pointers,p=na(this.cropper),f=c&&Object.keys(c).length?function(g){var v=0,b=0,y=0;return U(g,function(B){var k=B.startX,x=B.startY;v+=k,b+=x,y+=1}),{pageX:v/=y,pageY:b/=y}}(c):{pageX:n.pageX,pageY:n.pageY};r.left-=(l-i)*((f.pageX-p.left-r.left)/i),r.top-=(h-s)*((f.pageY-p.top-r.top)/s)}else Se(a)&&V(a.x)&&V(a.y)?(r.left-=(l-i)*((a.x-r.left)/i),r.top-=(h-s)*((a.y-r.top)/s)):(r.left-=(l-i)/2,r.top-=(h-s)/2);r.width=l,r.height=h,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return V(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var a=this.imageData.scaleY;return this.scale(t,V(a)?a:1)},scaleY:function(t){var a=this.imageData.scaleX;return this.scale(V(a)?a:1,t)},scale:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.imageData,o=!1;return t=Number(t),a=Number(a),this.ready&&!this.disabled&&this.options.scalable&&(V(t)&&(n.scaleX=t,o=!0),V(a)&&(n.scaleY=a,o=!0),o&&this.renderCanvas(!0,!0)),this},getData:function(){var t,a=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.options,o=this.imageData,r=this.canvasData,i=this.cropBoxData;if(this.ready&&this.cropped){t={x:i.left-r.left,y:i.top-r.top,width:i.width,height:i.height};var s=o.width/o.naturalWidth;if(U(t,function(l,h){t[h]=l/s}),a){var u=Math.round(t.y+t.height),d=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=d-t.x,t.height=u-t.y}}else t={x:0,y:0,width:0,height:0};return n.rotatable&&(t.rotate=o.rotate||0),n.scalable&&(t.scaleX=o.scaleX||1,t.scaleY=o.scaleY||1),t},setData:function(t){var a=this.options,n=this.imageData,o=this.canvasData,r={};if(this.ready&&!this.disabled&&Se(t)){var i=!1;a.rotatable&&V(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,i=!0),a.scalable&&(V(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,i=!0),V(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,i=!0)),i&&this.renderCanvas(!0,!0);var s=n.width/n.naturalWidth;V(t.x)&&(r.left=t.x*s+o.left),V(t.y)&&(r.top=t.y*s+o.top),V(t.width)&&(r.width=t.width*s),V(t.height)&&(r.height=t.height*s),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?H({},this.containerData):{}},getImageData:function(){return this.sized?H({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,a={};return this.ready&&U(["left","top","width","height","naturalWidth","naturalHeight"],function(n){a[n]=t[n]}),a},setCanvasData:function(t){var a=this.canvasData,n=a.aspectRatio;return this.ready&&!this.disabled&&Se(t)&&(V(t.left)&&(a.left=t.left),V(t.top)&&(a.top=t.top),V(t.width)?(a.width=t.width,a.height=t.width/n):V(t.height)&&(a.height=t.height,a.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,a=this.cropBoxData;return this.ready&&this.cropped&&(t={left:a.left,top:a.top,width:a.width,height:a.height}),t||{}},setCropBoxData:function(t){var a,n,o=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&Se(t)&&(V(t.left)&&(o.left=t.left),V(t.top)&&(o.top=t.top),V(t.width)&&t.width!==o.width&&(a=!0,o.width=t.width),V(t.height)&&t.height!==o.height&&(n=!0,o.height=t.height),r&&(a?o.height=o.width/r:n&&(o.width=o.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,n=Dr(this.image,this.imageData,a,t);if(!this.cropped)return n;var o=this.getData(),r=o.x,i=o.y,s=o.width,u=o.height,d=n.width/Math.floor(a.naturalWidth);d!==1&&(r*=d,i*=d,s*=d,u*=d);var l=s/u,h=ve({aspectRatio:l,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),c=ve({aspectRatio:l,width:t.minWidth||0,height:t.minHeight||0},"cover"),p=ve({aspectRatio:l,width:t.width||(d!==1?n.width:s),height:t.height||(d!==1?n.height:u)}),f=p.width,g=p.height;f=Math.min(h.width,Math.max(c.width,f)),g=Math.min(h.height,Math.max(c.height,g));var v=document.createElement("canvas"),b=v.getContext("2d");v.width=Ee(f),v.height=Ee(g),b.fillStyle=t.fillColor||"transparent",b.fillRect(0,0,f,g);var y=t.imageSmoothingEnabled,B=y===void 0||y,k=t.imageSmoothingQuality;b.imageSmoothingEnabled=B,k&&(b.imageSmoothingQuality=k);var x,m,M,E,z,_,I=n.width,W=n.height,C=r,O=i;C<=-s||C>I?(C=0,x=0,M=0,z=0):C<=0?(M=-C,C=0,z=x=Math.min(I,s+C)):C<=I&&(M=0,z=x=Math.min(s,I-C)),x<=0||O<=-u||O>W?(O=0,m=0,E=0,_=0):O<=0?(E=-O,O=0,_=m=Math.min(W,u+O)):O<=W&&(E=0,_=m=Math.min(u,W-O));var w=[C,O,x,m];if(z>0&&_>0){var N=f/s;w.push(M*N,E*N,z*N,_*N)}return b.drawImage.apply(b,[n].concat(zn(w.map(function(K){return Math.floor(Ee(K))})))),v},setAspectRatio:function(t){var a=this.options;return this.disabled||Ht(t)||(a.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var a=this.options,n=this.dragBox,o=this.face;if(this.ready&&!this.disabled){var r=t===Pt,i=a.movable&&t===_n;t=r||i?t:In,a.dragMode=t,We(n,He,t),Ve(n,Tt,r),Ve(n,Dt,i),a.cropBoxMovable||(We(o,He,t),Ve(o,Tt,r),Ve(o,Dt,i))}return this}},_r=le.Cropper,ia=function(){function t(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(br(this,t),!r||!Br.test(r.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=r,this.options=H({},Zn,Se(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var a,n,o;return a=t,o=[{key:"noConflict",value:function(){return window.Cropper=_r,t}},{key:"setDefaults",value:function(r){H(Zn,Se(r)&&r)}}],(n=[{key:"init",value:function(){var r,i=this.element,s=i.tagName.toLowerCase();if(!i.cropper){if(i.cropper=this,s==="img"){if(this.isImg=!0,r=i.getAttribute("src")||"",this.originalUrl=r,!r)return;r=i.src}else s==="canvas"&&window.HTMLCanvasElement&&(r=i.toDataURL());this.load(r)}}},{key:"load",value:function(r){var i=this;if(r){this.url=r,this.imageData={};var s=this.element,u=this.options;if(u.rotatable||u.scalable||(u.checkOrientation=!1),u.checkOrientation&&window.ArrayBuffer)if(Cr.test(r))kr.test(r)?this.read((d=r.replace(Pr,""),l=atob(d),h=new ArrayBuffer(l.length),U(c=new Uint8Array(h),function(g,v){c[v]=l.charCodeAt(v)}),h)):this.clone();else{var d,l,h,c,p=new XMLHttpRequest,f=this.clone.bind(this);this.reloading=!0,this.xhr=p,p.onabort=f,p.onerror=f,p.ontimeout=f,p.onprogress=function(){p.getResponseHeader("content-type")!==Qn&&p.abort()},p.onload=function(){i.read(p.response)},p.onloadend=function(){i.reloading=!1,i.xhr=null},u.checkCrossOrigin&&aa(r)&&s.crossOrigin&&(r=oa(r)),p.open("GET",r,!0),p.responseType="arraybuffer",p.withCredentials=s.crossOrigin==="use-credentials",p.send()}else this.clone()}}},{key:"read",value:function(r){var i=this.options,s=this.imageData,u=jr(r),d=0,l=1,h=1;if(u>1){this.url=function(p,f){for(var g=[],v=new Uint8Array(p);v.length>0;)g.push(ra.apply(null,Jn(v.subarray(0,8192)))),v=v.subarray(8192);return"data:".concat(f,";base64,").concat(btoa(g.join("")))}(r,Qn);var c=function(p){var f=0,g=1,v=1;switch(p){case 2:g=-1;break;case 3:f=-180;break;case 4:v=-1;break;case 5:f=90,v=-1;break;case 6:f=90;break;case 7:f=90,g=-1;break;case 8:f=-90}return{rotate:f,scaleX:g,scaleY:v}}(u);d=c.rotate,l=c.scaleX,h=c.scaleY}i.rotatable&&(s.rotate=d),i.scalable&&(s.scaleX=l,s.scaleY=h),this.clone()}},{key:"clone",value:function(){var r=this.element,i=this.url,s=r.crossOrigin,u=i;this.options.checkCrossOrigin&&aa(i)&&(s||(s="anonymous"),u=oa(i)),this.crossOrigin=s,this.crossOriginUrl=u;var d=document.createElement("img");s&&(d.crossOrigin=s),d.src=u||i,d.alt=r.alt||"The image to crop",this.image=d,d.onload=this.start.bind(this),d.onerror=this.stop.bind(this),Y(d,Wn),r.parentNode.insertBefore(d,r.nextSibling)}},{key:"start",value:function(){var r=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var s=le.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(le.navigator.userAgent),u=function(h,c){H(r.imageData,{naturalWidth:h,naturalHeight:c,aspectRatio:h/c}),r.initialImageData=H({},r.imageData),r.sizing=!1,r.sized=!0,r.build()};if(!i.naturalWidth||s){var d=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=d,d.onload=function(){u(d.width,d.height),s||l.removeChild(d)},d.src=i.src,s||(d.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(d))}else u(i.naturalWidth,i.naturalHeight)}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var r=this.element,i=this.options,s=this.image,u=r.parentNode,d=document.createElement("div");d.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var l=d.querySelector(".".concat(F,"-container")),h=l.querySelector(".".concat(F,"-canvas")),c=l.querySelector(".".concat(F,"-drag-box")),p=l.querySelector(".".concat(F,"-crop-box")),f=p.querySelector(".".concat(F,"-face"));this.container=u,this.cropper=l,this.canvas=h,this.dragBox=c,this.cropBox=p,this.viewBox=l.querySelector(".".concat(F,"-view-box")),this.face=f,h.appendChild(s),Y(r,J),u.insertBefore(l,r.nextSibling),this.isImg||se(s,Wn),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,Y(p,J),i.guides||Y(p.getElementsByClassName("".concat(F,"-dashed")),J),i.center||Y(p.getElementsByClassName("".concat(F,"-center")),J),i.background&&Y(l,"".concat(F,"-bg")),i.highlight||Y(f,wr),i.cropBoxMovable&&(Y(f,Dt),We(f,He,Vt)),i.cropBoxResizable||(Y(p.getElementsByClassName("".concat(F,"-line")),J),Y(p.getElementsByClassName("".concat(F,"-point")),J)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),ee(i.ready)&&ae(r,Xn,i.ready,{once:!0}),Te(r,Xn)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),se(this.element,J))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&jn(a.prototype,n),o&&jn(a,o),t}();function la(t){return new Promise(a=>{const n=new FileReader;n.readAsArrayBuffer(t),n.onload=function(o){var r;let i;const s=o.target.result;i=typeof s=="object"?new Blob([s]):o.target.result,a((r=window)===null||r===void 0?void 0:r.URL.createObjectURL(i))}})}async function sa(t){const a=new Image;return a.src=t,new Promise(n=>{a.onload=()=>{n({width:a.width,height:a.height,image:a})}})}async function Ir(t,a,n){const{minCropBoxWidth:o,minCropBoxHeight:r,maxHeight:i,maxWidth:s}=a,u=await la(t),{width:d,height:l,image:h}=await sa(u);if(t.type!=="image/gif"){if(o>0&&d<o||r>0&&l<r)return Promise.reject({code:"FILE_MIN_WITH_HEIGHT",message:n("uploaderError3",{size:`${o}x${r}`}),fileList:[t]});if(d>s||l>i){let c=document.createElement("canvas");const p=d/l;return p>=1?(c.width=s,c.height=Math.floor(s/p)):(c.width=Math.floor(i/p),c.height=i),o>0&&c.width<o||r>0&&c.height<r?Promise.reject({code:"FILE_MIN_WITH_HEIGHT",message:n("uploaderError3",{size:`${o}x${r}`}),fileList:[t]}):(c.getContext("2d").drawImage(h,0,0,c.width,c.height),new Promise(f=>{c.toBlob(g=>{const v=new File([g],t.name,{type:t.type});f({file:v,url:u,originUrl:u,name:t.name,width:d,height:l,size:v.size,aspectRatio:parseFloat((c.width/c.height).toString()).toFixed(4),uploadSuccess:!1,uploadFail:!1,uploadLoading:!1}),c=null},t.type)}))}}return{file:t,url:u,originUrl:u,name:t.name,width:d,height:l,size:t.size,aspectRatio:parseFloat((d/l).toString()).toFixed(4),uploadSuccess:!1,uploadFail:!1,uploadLoading:!1}}H(ia.prototype,zr,Lr,Ar,Rr,Hr,Wr);const Fr=["accept","multiple","disabled"],Ur={class:"vats-uploader-container"},$r={class:"vats-btn-plus"},Yr={style:{"font-size":"14px"}},Xr={class:"vats-uploader-cropper"},qr={class:"vats-uploader-cropper-wrapper"},Kr=e.defineComponent({name:"VatsUploadPanel"}),Qr=e.defineComponent(X(A({},Kr),{props:{localUploadList:{default:()=>[]},localUploadMustCrop:{default:()=>[]},ratio:{default:0},isCropping:{type:Boolean,default:!1},multiple:{type:Boolean},accept:null,disabled:{type:Boolean}},emits:["inputChange","handleDelete","handleCrop","handleConfirmCrop"],setup(t,{expose:a,emit:n}){const o=t,{minCropBoxWidth:r,minCropBoxHeight:i,ratio:s,emptyTitle:u,emptySubTitle:d,localUploadMustCrop:l,localUploadList:h,multiple:c,isCropping:p,accept:f,disabled:g}=e.toRefs(o),v=e.inject("vatsUploadLoading",{crop:!1,upload:!1}),b=e.ref(),y=e.ref(),B=e.ref(-1),k=e.ref();let x;const m=()=>{if(!x)return;const{naturalWidth:O,naturalHeight:w,width:N,height:K}=x.getCanvasData(),Z=N/O,P=K/w,oe=i.value*P,ce=r.value*Z;x.options.minCropBoxHeight=x.cropBoxData.minHeight=x.initialCropBoxData.minHeight=oe,x.options.minCropBoxWidth=x.cropBoxData.minWidth=x.initialCropBoxData.minWidth=ce},M=()=>{var O,w;x?(x.reset(),x.replace((O=k.value)===null||O===void 0?void 0:O.originUrl)):(y.value.src=(w=k.value)===null||w===void 0?void 0:w.originUrl,y.value.addEventListener("ready",m,!1),x=new ia(y.value,{viewMode:0,movable:!0,autoCropArea:1,aspectRatio:Number(s.value),minCropBoxHeight:i.value,minCropBoxWidth:r.value,zoomable:!0,scalable:!0}))},E=(O,w)=>{B.value=w,k.value=O};e.onBeforeUnmount(()=>{var O,w;(O=x)===null||O===void 0||O.destroy(),(w=y.value)===null||w===void 0||w.removeEventListener("ready",m,!1)});const z=(O=!1)=>new Promise(w=>{v.crop=!0,x.getCroppedCanvas().toBlob(async N=>{const{name:K,originUrl:Z}=e.toRaw(k.value),P=K.split("."),oe=`${P.slice(0,P.length-1).join(".")}.webp`,ce=new File([N],oe,{type:"image/webp"}),ue=await la(ce),{width:Ce,height:be}=await sa(ue),ke={url:ue,originUrl:Z,file:ce,name:oe,width:Ce,height:be,size:ce.size,uploadSuccess:!1,uploadFail:!1,uploadLoading:!1};n("handleConfirmCrop",ke,B.value,O),v.crop=!1,w(ke)},"image/webp")}),_=e.computed(()=>h.value.length>0&&(typeof c.value=="number"&&c.value>h.value.length||c.value===!0)),I=O=>{n("inputChange",O)},W=(O,w)=>{n("handleDelete",A({},e.toRaw(O)),w)},C=(O,w)=>{const N=A({},e.toRaw(O));n("handleCrop",N,w),E(N,w),M()};return a({toPrev:()=>{let O=h.value.length-1,w=0;B.value<O&&(w=B.value+1),E(A({},e.toRaw(h.value[w])),w),M()},toNext:async()=>{const O=l.value.length>0?l.value:h.value;let w=O.length-1,N=0;l.value.length>0?await z(!0):B.value<w&&(N=B.value+1),E(A({},e.toRaw(O[N])),N),M()},setCurrent:E,initCrop:M,confirmCrop:z}),(O,w)=>{const N=e.resolveComponent("a-image-preview-group");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("input",{ref_key:"inputRef",ref:b,type:"file",accept:e.unref(f).join(),multiple:e.unref(c)===!0||typeof e.unref(c)=="number"&&e.unref(c)>1,disabled:e.unref(g),onChange:I,style:{display:"none"}},null,40,Fr),e.withDirectives(e.createVNode(cr,{emptyTitle:e.unref(u),emptySubTitle:e.unref(d),onClickEmpty:w[0]||(w[0]=K=>b.value.click())},null,8,["emptyTitle","emptySubTitle"]),[[e.vShow,e.unref(h).length===0&&e.unref(l).length===0]]),e.withDirectives(e.createElementVNode("div",Ur,[e.createVNode(N,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(h),(K,Z)=>(e.openBlock(),e.createBlock(vr,{key:Z,item:K,index:Z,crop:e.unref(p),ratio:e.unref(s),loading:e.unref(v).upload,onHandleDelete:W,onHandleCrop:C},null,8,["item","index","crop","ratio","loading"]))),128)),e.withDirectives(e.createElementVNode("div",{class:"vats-add-btn",onClick:w[1]||(w[1]=K=>b.value.click())},[e.createElementVNode("div",$r,[e.createElementVNode("p",null,[e.createVNode(e.unref(mo))]),e.createElementVNode("p",Yr,e.toDisplayString(e.unref(h).length)+" / "+e.toDisplayString(e.unref(c)),1)])],512),[[e.vShow,e.unref(_)]])]),_:1})],512),[[e.vShow,!e.unref(p)&&e.unref(h).length>0]]),e.withDirectives(e.createElementVNode("div",Xr,[e.createElementVNode("div",qr,[e.createElementVNode("img",{ref_key:"cropImageRef",ref:y},null,512)])],512),[[e.vShow,e.unref(p)]])],64)}}})),Zr={class:"vats-flex vats-uploader-footer"},Gr={class:"vats-flex-1",style:{"text-align":"left"}},Jr=e.defineComponent({name:"VatsUploader"}),ca=e.defineComponent(X(A({},Jr),{props:{visible:{type:Boolean},maskClosable:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!0},title:null,extType:{default:()=>["jpg","png","webp","jpeg","gif","tif","tiff"]},accept:{default:()=>["image/gif","image/jpeg","image/png","image/tiff","image/webp"]},multiple:{type:[Boolean,Number],default:!1},maxFilesSize:{default:5},disabled:{type:Boolean,default:!1},crop:{type:Boolean,default:!0},maxWidth:{default:2e3},maxHeight:{default:2e3},upload:null},emits:["update:visible","show","cancel","ok","change","error"],setup(t,{emit:a}){const n=t,{disabled:o,extType:r,multiple:i,maxFilesSize:s,maxWidth:u,maxHeight:d,emptyTitle:l,accept:h,emptySubTitle:c,minCropBoxHeight:p,minCropBoxWidth:f,destroyOnClose:g,aspectRatio:v,title:b,crop:y,maskClosable:B,visible:k,upload:x}=e.toRefs(n),m=e.useSlots(),M=e.getCurrentInstance(),E=e.ref(),z=e.reactive({crop:!1,upload:!1});e.provide("vatsUploadLoading",z);const _=e.inject("vatsLang",{message:{}}),I=e.ref(!1),W=e.ref(0),C=e.ref([]),O=e.ref(!1),w=e.ref([]),N=e.ref(!1),[K,Z]=function(T=""){const S=e.ref(T);return[S,D=>{S.value=D}]}(""),P=(T,S)=>function(D,L,he){let R=D==null?void 0:D.message[L];if(R){if(he){const $=/(\{).*?(\})/g;R.match($).forEach(Be=>{const ci=Be.replace(/\{|\}|\s|\n|\t/g,""),ui=new RegExp(`${Be}`,"g");R=R.replace(ui,he[ci])})}return R}return console.warn("\u672A\u5339\u914D\u5230\u6587\u6848key"),L}(_,T,S),oe=e.computed(()=>v.value?parseFloat(v.value.toString()).toFixed(4):0),ce=()=>{I.value=!0,a("update:visible",!0),a("show")},ue=()=>{I.value=!1,a("update:visible",!1),a("cancel"),g.value&&(C.value=[],O.value=!1,w.value=[],N.value=!1,z.crop=!1,z.upload=!1)};let Ce;e.onMounted(()=>{var T,S,D,L;m.default&&(T=M.subTree)!==null&&T!==void 0&&(S=T.el)!==null&&S!==void 0&&S.nextElementSibling&&(Ce=(D=M.subTree)===null||D===void 0||(L=D.el)===null||L===void 0?void 0:L.nextElementSibling,Ce.addEventListener("click",ce,!1))});const be=e.computed(()=>C.value.filter(T=>!T.uploadSuccess)),ke=e.computed(()=>C.value.filter(T=>T.uploadSuccess)),Qe=async(T,S="")=>{const D=Array.from(S==="drop"?T.dataTransfer.files:T.target.files);if(T.target.value="",T.target.files=null,o.value||N.value)return;if(Z(S),S==="drop"&&r.value&&D.some(R=>{const $=R.name.split(".");return!r.value.includes($[$.length-1])})){const R=_.message.uploaderError0;return pe.message.error(R),a("error",{code:"FILE_TYPE_ERROR",message:R,fileList:D})}if(typeof i.value=="number"&&D.length+C.value.length>i.value||i.value===!1&&(C.value.length>0||C.value.length===0&&D.length>1)){let R=0;i.value===!1&&C.value.length===0&&D.length>1&&(R=1),typeof i.value=="number"&&D.length+C.value.length>i.value&&(R=i.value-C.value.length>0?i.value-C.value.length:0);const $=P("uploaderError1",{max:R});return pe.message.error($),a("error",{code:"FILE_MAX_COUNT",message:$,fileList:D})}if(D.some(R=>R.size/1024/1024>s.value)){const R=P("uploaderError2",{max:s.value});return pe.message.error(R),a("error",{code:"FILE_MAX_SIZE",message:R,fileList:D})}const L=[],he=[];O.value=!0;for(const R of D)try{const $=await Ir(R,{maxHeight:d.value,maxWidth:u.value,minCropBoxHeight:p.value,minCropBoxWidth:f.value},P);oe.value&&$.file.type!=="image/gif"&&oe.value!==$.aspectRatio?he.push($):L.push($)}catch($){return O.value=!1,pe.message.error($.message),a("error",$)}O.value=!1,C.value=[...e.toRaw(C.value),...L],w.value=[...e.toRaw(w.value),...he],w.value.length>0&&(N.value=!0,W.value=0,E.value.setCurrent(A({},e.toRaw(w.value[0])),0),E.value.initCrop()),a("change",D)},ua=(T,S)=>{if(w.value.length>0){if(w.value.splice(S,1),N.value)if(w.value.length===0)N.value=!1;else{let D=w.value.length-1,L=S>D?D:S;W.value=L,E.value.setCurrent(A({},e.toRaw(w.value[L])),L),E.value.initCrop()}}else if(C.value.splice(S,1),N.value)if(C.value.length===0)N.value=!1;else{let D=C.value.length-1,L=S>D?D:S;W.value=L,E.value.setCurrent(A({},e.toRaw(C.value[L])),L),E.value.initCrop()}},ti=(T,S)=>{N.value=!0,W.value=S},ni=(T,S,D=!1)=>{D?(w.value.splice(S,1),C.value.push(T),w.value.length===0&&(N.value=!1,W.value=-1)):(C.value.splice(S,1,T),N.value=!1,W.value=-1)},ai=()=>{w.value.length>0?pe.Modal.confirm({title:P("uploaderBackTitle"),icon:e.createVNode(ht),content:P("uploaderBackMsg"),onOk:async()=>(N.value=!1,W.value=0,w.value=[],z.crop=!1,!0)}):(N.value=!1,z.crop=!1,W.value=0)},oi=()=>{const T=ke.value.map(S=>{const{url:D,name:L,size:he,width:R,height:$}=S;return{url:D,name:L,size:he,width:R,height:$}});if(be.value.length>0)return pe.Modal.confirm({title:P("uploadWaitTitle"),icon:e.createVNode(ht),content:P("uploadWaitMsg",{number:be.value.length}),onOk:async()=>(ue(),a("ok",T),!0)});ue(),a("ok",T)},ri=()=>{E.value.confirmCrop(w.value.length>0)},ii=()=>{E.value.toNext()},li=()=>{E.value.toPrev()},si=async()=>{z.upload=!0;for(let T=0;T<C.value.length;T++)if(!C.value[T].uploadSuccess)try{C.value[T].uploadLoading=!0;const S=await x.value(A({},e.toRaw(C.value[T])));C.value.splice(T,1,S)}catch(S){pe.message.error(P("uploadError")),C.value[T].uploadLoading=!1,C.value[T].uploadFail=!0,a("error",S)}z.upload=!1};return(T,S)=>{const D=e.resolveComponent("a-typography-text"),L=e.resolveComponent("VatsButton"),he=e.resolveComponent("a-space"),R=e.resolveComponent("a-modal"),$=e.resolveDirective("loading");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.renderSlot(T.$slots,"default"),e.createVNode(R,{visible:e.unref(k)===void 0?I.value:e.unref(k),"body-style":{height:"calc(100vh - 300px)",maxHeight:"auto",overflow:"hidden"},title:e.unref(b)||e.unref(_).message.uploaderTitle,maskClosable:e.unref(B),destroyOnClose:e.unref(g),onCancel:ue},{footer:e.withCtx(()=>[e.createElementVNode("div",Zr,[e.createElementVNode("span",Gr,[C.value.length===0&&w.value.length===0&&e.unref(i)!==!0?(e.openBlock(),e.createBlock(D,{key:0,type:"secondary"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(P("uploaderError1",{max:typeof e.unref(i)=="number"?e.unref(i).toString():1})),1)]),_:1})):e.createCommentVNode("",!0),w.value.length>0?(e.openBlock(),e.createBlock(D,{key:1,type:"danger"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(P("uploaderMustCropTips",{number:w.value.length})),1)]),_:1})):e.createCommentVNode("",!0)]),e.createVNode(he,null,{default:e.withCtx(()=>[N.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(L,{key:0,disabled:e.unref(o),onClick:ue},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(P("cancel")),1)]),_:1},8,["disabled"])),!N.value&&e.unref(be).length>0?(e.openBlock(),e.createBlock(L,{key:1,type:"primary",disabled:e.unref(o),loading:e.unref(z).upload,success:"",onClick:e.withModifiers(si,["stop"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(P("uploaderPrimary")),1)]),_:1},8,["disabled","loading","onClick"])):e.createCommentVNode("",!0),!N.value&&e.unref(ke).length>0?(e.openBlock(),e.createBlock(L,{key:2,type:"primary",disabled:e.unref(o),onClick:e.withModifiers(oi,["stop"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(P("confirm")),1)]),_:1},8,["disabled","onClick"])):e.createCommentVNode("",!0),N.value?(e.openBlock(),e.createBlock(L,{key:3,disabled:e.unref(o),onClick:e.withModifiers(ai,["stop"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(P("uploadBack")),1)]),_:1},8,["disabled","onClick"])):e.createCommentVNode("",!0),N.value?(e.openBlock(),e.createBlock(L,{key:4,type:"primary",danger:"",disabled:e.unref(o),onClick:S[4]||(S[4]=e.withModifiers(Be=>ua(0,W.value),["stop"]))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(P("uploaderRemove")),1)]),_:1},8,["disabled"])):e.createCommentVNode("",!0),N.value&&w.value.length===0&&C.value.length>1?(e.openBlock(),e.createBlock(L,{key:5,type:"primary",disabled:e.unref(o),onClick:e.withModifiers(li,["stop"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(P("uploaderPrev")),1)]),_:1},8,["disabled","onClick"])):e.createCommentVNode("",!0),N.value&&(w.value.length>1||w.value.length===0&&C.value.length>1)?(e.openBlock(),e.createBlock(L,{key:6,type:"primary",disabled:e.unref(o),onClick:e.withModifiers(ii,["stop"]),loading:e.unref(z).crop,success:w.value.length>1},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(w.value.length>0?P("uploaderConfirmNext"):P("uploaderNext")),1)]),_:1},8,["disabled","onClick","loading","success"])):e.createCommentVNode("",!0),N.value&&w.value.length<=1?(e.openBlock(),e.createBlock(L,{key:7,type:"primary",success:"",loading:e.unref(z).crop,disabled:e.unref(o),onClick:e.withModifiers(ri,["stop"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(P("uploaderConfirmCrop")),1)]),_:1},8,["loading","disabled","onClick"])):e.createCommentVNode("",!0)]),_:1})])]),default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["vats-drop-container",e.unref(K)]),onDragover:S[0]||(S[0]=e.withModifiers(Be=>e.unref(Z)("dragover"),["prevent"])),onDragleave:S[1]||(S[1]=e.withModifiers(Be=>e.unref(Z)(""),["prevent"])),onDragend:S[2]||(S[2]=e.withModifiers(()=>{},["prevent"])),onDrop:S[3]||(S[3]=e.withModifiers(Be=>Qe(Be,"drop"),["prevent"]))},[e.withDirectives(e.createVNode(Qr,{ref_key:"uploadRef",ref:E,localUploadList:C.value,localUploadMustCrop:w.value,"empty-title":e.unref(l),"empty-sub-title":e.unref(c),accept:e.unref(h),multiple:e.unref(i),disabled:e.unref(o),minCropBoxHeight:e.unref(p),minCropBoxWidth:e.unref(f),ratio:e.unref(oe),crop:e.unref(y),isCropping:N.value,onInputChange:Qe,onHandleDelete:ua,onHandleCrop:ti,onHandleConfirmCrop:ni},null,8,["localUploadList","localUploadMustCrop","empty-title","empty-sub-title","accept","multiple","disabled","minCropBoxHeight","minCropBoxWidth","ratio","crop","isCropping"]),[[$,O.value]])],34)]),_:1},8,["visible","body-style","title","maskClosable","destroyOnClose"])],64)}}}));var ei={install:t=>{[Ft,Ut].forEach(a=>{t.use(a)}),[Ie,On,Fo,Mn,Sn,En,Vn,Tn,ca].forEach(a=>{t.component(a.name,a)})}};j.VatsButton=Tn,j.VatsDrawer=Vn,j.VatsLoading=Ie,j.VatsPage=Sn,j.VatsProvider=On,j.VatsSelect=Mn,j.VatsTable=En,j.VatsUploader=ca,j.debounced=Nn,j.default=ei,j.isMobile=Bn,j.vLoading=Ut,j.vPermission=Ft,Object.defineProperties(j,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
